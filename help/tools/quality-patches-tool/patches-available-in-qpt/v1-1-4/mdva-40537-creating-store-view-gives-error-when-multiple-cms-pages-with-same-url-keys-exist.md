---
title: MDVA-40537：当多个CMS页面具有相同的URL键时，创建存储视图会出错。
description: MDVA-40537修补程序修复了以下问题：如果多个CMS页面具有相同的URL密钥，则用户在创建商店视图时会收到错误。 安装[Quality Patches Tool (QPT)](https://experienceleague.adobe.com/en/docs/commerce-operations/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches) 1.1.4后，即可使用此修补程序。 修补程序ID为MDVA-40537。 请注意，Adobe Commerce 2.4.1中已修复此问题。
feature: CMS
role: Admin
exl-id: 10c3d935-dbc9-4033-85a1-041b8af74d78
type: Troubleshooting
source-git-commit: 7fdb02a6d89d50ea593c5fd99d78101f89198424
workflow-type: tm+mt
source-wordcount: '433'
ht-degree: 0%

---

# MDVA-40537：当多个CMS页面具有相同的URL键时，创建存储视图会出错。

MDVA-40537修补程序修复了以下问题：如果多个CMS页面具有相同的URL密钥，则用户在创建商店视图时会收到错误。 安装[Quality Patches Tool (QPT)](https://experienceleague.adobe.com/en/docs/commerce-operations/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches) 1.1.4时，此修补程序可用。 修补程序ID为MDVA-40537。 请注意，Adobe Commerce 2.4.1中已修复此问题。

## 受影响的产品和版本

**为Adobe Commerce版本创建了修补程序：**

Adobe Commerce（所有部署方法） 2.3.5-p2

**与Adobe Commerce版本兼容：**

Adobe Commerce（所有部署方法） 2.3.4 - 2.4.0-p1

>[!NOTE]
>
>该修补程序可能适用于具有新的Quality Patches Tool版本的其他版本。 要检查修补程序是否与您的Adobe Commerce版本兼容，请将`magento/quality-patches`包更新到最新版本，并在[[!DNL Quality Patches Tool]：搜索修补程序页面](https://experienceleague.adobe.com/en/docs/commerce-operations/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches)上检查兼容性。 使用修补程序ID作为搜索关键字来查找修补程序。


## 问题

如果多个CMS页面具有相同的URL键，则用户在创建商店视图时会收到错误。

<u>重现步骤</u>：

1. 转到&#x200B;**管理面板** > **商店** > **所有商店**，并创建两个商店视图。

   ```sql
   Name: German
   Code: german
   Status: Enabled
   ```

   ```sql
   Name: French
   Code: french
   Status: Enabled
   ```

1. 转到&#x200B;**管理面板** > **内容** > **页面**&#x200B;并创建两个页面。

   ```sql
   Page Title: About Us
   URL Key: about-us
   Store View: French
   ```

   ```sql
   Page Title: About Us
   URL Key: about-us
   Store View: German
   ```

1. 转到&#x200B;**管理员面板** > **商店** > **所有商店**，然后创建新的商店视图。

   ```sql
   Name: Spanish
   Code: spanish
   Status: Enabled
   ```

<u>预期的结果</u>：

已成功创建商店视图。

<u>实际结果</u>：

显示以下错误消息： *保存时出错。 请查看错误日志。*&#x200B;日志包含异常，例如：

```sql
Exception message: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'about-us-4' for key 'URL_REWRITE_REQUEST_PATH_STORE_ID', query was: INSERT  INTO }}url_rewrite{{ (}}redirect_type{{,}}is_autogenerated{{,}}metadata{{,}}description{{,}}store_id{{,}}entity_type{{,}}entity_id{{,}}request_path{{,}}target_path{{) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)
```

## 应用修补程序

要应用单独的修补程序，请根据您的部署方法使用以下链接：

* Adobe Commerce或Magento Open Source内部部署： [[!DNL Quality Patches Tool] 指南中的](/help/tools/quality-patches-tool/usage.md)>使用情况[!DNL Quality Patches Tool]。
* 云基础架构上的Adobe Commerce：云基础架构上的Commerce指南中的[升级和修补程序>应用修补程序](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html)。

## 相关阅读

要了解有关Quality Patches Tool的更多信息，请参阅：

* 已发布[质量修补程序工具：支持知识库中用于自助提供质量修补程序](https://experienceleague.adobe.com/en/docs/commerce-operations/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches)的新工具。
* [使用](/help/tools/quality-patches-tool/patches-available-in-qpt/check-patch-for-magento-issue-with-magento-quality-patches.md)指南中的Quality Patches Tool[!DNL Quality Patches Tool]，检查修补程序是否可用于Adobe Commerce问题。

有关QPT中其他可用修补程序的信息，请参阅QPT[中可用的](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html)修补程序部分。
