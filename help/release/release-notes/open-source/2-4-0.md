---
title: Magento Open Source2.4.0发行说明
description: 了解2.4.5版本中的新增功能、增强功能、错误修复和已知问题。Magento Open Source
source-git-commit: 065c56f20ba5b1eef8c331c5c2f5649902f1442b
workflow-type: tm+mt
source-wordcount: '19098'
ht-degree: 0%

---


# Magento Open Source2.4.0发行说明

Magento Open Source2.4.0引入了对PHP 7.4、Elasticsearch7.6.x和MySQL 8.0的支持。重大的安全更改包括默认在管理员中启用双重身份验证。

**在此版本中，已从核心代码中删除Authorize.Net方法集成。 商户应迁移到Commerce Marketplace上可用的官方扩展**.

>[!NOTE]
>
>**Braintree支付集成**:在2.4.0之前，建议商家从Commerce Marketplace安装和配置正式的Braintree支付集成扩展以替换核心集成。 在此版本(2.4.0)中，扩展现在包含在版本中。 商户必须执行其他步骤以确保Braintree在2.4.0部署中正常工作。 请参阅 [Braintree](https://docs.magento.com/user-guide/payment/braintree.html) 以了解有关如何迁移到2.4.0的更多信息。

此版本包括2.3.5-p1中包含的对核心质量的所有改进、对核心代码的100多项新修复以及30项安全增强功能。 其中包括由我们的社区成员解决的226个GitHub问题。 这些社区贡献的内容包括对核心代码进行细微清理，以及在Inventory management和GraphQL中进行重大增强。

>[!NOTE]
>
>次要版本提供了大量代码增强功能。 在升级到2.4.0之前，请确认您的环境满足 [技术堆栈要求](../../../installation/system-requirements.md).

{{bics}}

>[!NOTE]
>
>安全版本的包名称通常附加有 — p1。 但是，我们无法避免偏离这些使用2.3.5的命名约定，这反过来又对后续安全包名称产生了暂时的涟漪效应。 具体而言，完整功能2.3.5版本是2.3.5-p1。 2.4.0 GA发布时的安全版本为2.3.5-p2。 我们希望在未来版本中恢复常规的命名约定。

## 应用 `AC-3022.patch` 继续提供DHL作为航运公司

DHL已引入模式版本6.2，并将在不久的将来弃用模式版本6.0。 Adobe Commerce 2.4.4及更早版本（支持DHL集成）仅支持版本6.0。部署这些版本的商户应适用 `AC-3022.patch` 尽早将DHL作为航运公司继续提供。 请参阅 [应用补丁程序以继续提供DHL作为运输承运人](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) 有关下载和安装修补程序的信息，知识库文章。

## 安全修补程序可用

商家现在无需应用完整的季度版本（例如2.3.5-p2）提供的数百项功能修复和增强功能，即可安装对时间敏感的安全修复。 修补程序2.3.5.2（编辑器包2.3.5-p2）是一个安全修补程序，用于修复我们上一个季度版本2.3.5-p1中已识别的漏洞。 此安全修补程序中包含应用于2.3.5版本的所有热修复程序。 (A) *热修复* 对解决特定问题或错误的已发布版本进行了修复。)

有关安全修补程序的一般信息，请参阅 [引入新的安全修补程序版本](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287).有关下载和应用安全修补程序（包括修补程序2.3.5-p2）的说明，请参阅 [快速启动本地安装](../../../installation/composer.md). 安全修补程序仅包含安全错误修复，而不包含完整修补程序中包含的其他安全增强功能。

## 其他发行信息

尽管这些功能的代码与季度版本捆绑在一起，但其中一些项目(例如，Inventory management和Progressive Web Application(PWA)Studio)也是独立发布的。 这些项目的错误修复会在特定于项目的单独发行信息中进行记录，该信息可在每个项目的文档中找到。

## 亮点

在此版本中查找以下亮点：

### 大量安全性增强

此版本包括30多项安全修复和平台安全改进。

#### 30多项安全增强功能，可帮助关闭远程代码执行(RCE)和跨站点脚本(XSS)漏洞

迄今为止，尚未发生与这些问题相关的已确认攻击。 但是，某些漏洞可能会被利用来访问客户信息或接管管理员会话。 大多数这些问题要求攻击者首先获得对管理员的访问权限。 因此，我们提醒您采取一切必要步骤保护您的管理员，包括但不限于以下工作：IP， [双重身份验证](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)，使用VPN，使用唯一位置，而不是 `/admin`，密码卫生良好。 请参阅 [可用于Magento的安全更新](https://helpx.adobe.com/security/products/magento/apsb20-47.html) 以讨论这些修复的问题。 以讨论这些修复的问题。

#### 其他安全增强功能

* **为管理员帐户、magento.com用户帐户和云SSH访问实施2FA**

   * **保护您的管理员帐户**. 管理员现在需要双重身份验证(2FA)。 管理员用户必须先配置其2FA，然后才能通过UI或Web API登录管理员。 2FA默认启用。 我们强烈建议不要禁用2FA模块。  此额外的身份验证步骤使恶意用户更难在未授权的情况下登录到管理员。 请参阅 [双重身份验证(2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html). <!-- MC-22631-->

   * **保护您的帐户**. 双重身份验证(2FA)提供了附加的可选安全层，以更好地保护您的magento.com帐户免受未经授权用户的侵害，这些用户可能希望以您不希望的方式使用您的帐户。 请参阅 [保护您的帐户](https://docs.magento.com/user-guide/magento/magento-account-secure.html).

* **保护云SSH访问**. 云基础架构上的Adobe提供了多重身份验证(MFA)实施，以管理对云环境的SSH访问的身份验证要求。 默认情况下，项目上未启用2FA的多重身份验证。  Adobe强烈建议启用此功能。 请联系支持人员以获取帮助。 请参阅 [为SSH访问启用多重身份验证](https://devdocs.magento.com/cloud/project/project-enable-mfa-enforcement.html).

* **默认情况下，模板过滤器严格模式处于启用状态**. 在旧版模式下使用模板过滤器的组件（包括CMS页面和块）可能容易遭受远程代码执行(RCE)攻击。 默认情况下，启用严格模式可确保无法有意启用RCE攻击。 <!-- MC-22982-->

* **UI数据提供程序的数据渲染现在默认处于禁用状态**. 这样，恶意用户就无法执行任意JavaScript。 <!-- MC-17356-->

* **新建 `\Magento\Framework\Escaper` 类**. 此类为 `.phtml` 模板和负责生成HTML的PHP类。 此类包含与多个上下文相关的HTML清理方法。 的 `$escaper` 本地变量在 `.phtml` 应使用和模板，而不是已弃用的模板 `$block->escape{method}`. 使用 `$escaper` 而不是 `$block` 用作的 `$block->escape{method}` 已弃用。

* **支持新的security.txt文件**. 此文件是服务器上的行业标准文件，可帮助安全研究人员向站点管理员报告潜在的安全问题。

* **增强了内容安全策略(CSP)支持**. `SecureHtmlRenderer` 已添加到框架中，可在 `.phtml` 将内嵌模板列入白名单 `style` 和 `script` 标记。 默认的CSP配置不允许使用内联脚本和样式，XML文件可能会覆盖这些配置。 <!-- MC-34433-->

{{cve-notice}}

### 平台升级

以下平台升级有助于增强网站安全性和性能。 支持的PHP和PHPUnit、Elasticsearch、MySQL和其他依赖项版本列在 [技术堆栈要求](../../../installation/system-requirements.md).

* **引入了PHP 7.4支持，已弃用PHP 7.1和7.2**. 2.4.0引入了对PHP 7.4的支持。

* **支持PHPUnit 9.x并弃用PHPUnit 6.5**. PHP 7.4要求使用最新的PHPUnit测试框架，即PHPUnit 9.x。Commerce Marketplace扩展供应商必须确认所有新扩展版本都与PHP 7.4兼容，并且所有单元和集成测试都已配置为使用PHPUnit 9运行。

* **Elasticsearch7.6.x支持**. Elasticsearch7.6.x现在是Adobe Commerce和Adobe Commerce的默认目录搜索引擎。 如果不同时安装Elasticsearch7.6.x，则无法安装或升级到版本2.4.0。Elasticsearch版本2.x代码已删除。 Elasticsearch版本5.x和6.x已弃用，不再受支持。 请参阅 [搜索引擎先决条件](../../../installation/prerequisites/search-engine/overview.md).

* **MySQL 8.0支持**. 版本2.4.x支持MySQL 8.x。（2.4.0已使用MySQL 8.0.20进行测试。） 鼓励商户将其部署迁移到MySQL 8.x，以利用其改进的性能、安全性和可靠性。 尽管Magento2.4.x仍支持MySQL 5.7，但MySQL 5.6不再支持。 不能使用MySQL 5.6数据库托管2.4.x。 请参阅 [MySQL](../../../installation/prerequisites/database/mysql.md).

* **删除了MySQL目录搜索引擎**. MySQL搜索引擎已从2.4.0中删除，并替换为默认搜索引擎Elasticsearch。 Elasticsearch提供卓越的搜索功能以及目录性能优化。  所有商家都必须具有安装和部署2.4.0的Elasticsearch。请参阅 [验证Elasticsearch是否已安装](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html).

* **支持MariaDB 10.4**. 对MySQL 8.0的支持为商户提供了部署MariaDB 10.4和Magento Open Source的机会。 尽管商家仍可以将MariaDB 10.2与2.4.0结合使用，但我们建议升级到MariaDB 10.4以提高性能和可靠性。 不再支持MariaDB 10.0和10.1（由于在此版本中删除了对MySQL 5.6的支持）。

* **将对Zend Framework的依赖项迁移到 [拉米纳斯项目](https://getlaminas.org/about/foundation)** 以反映Zend Framework向Linux Foundation的Laminas项目的转换。 Zend Framework已弃用。 请参阅 [Zend框架向Laminas工程的迁移](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) DevBlog文章。

* **控制器分解** 允许扩展开发人员直接实施ActionInterface，而不使用“层超类型”类。 请参阅 [控制器分解](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883) DevBlog文章。 _Vinai Kopp在拉取请求中开始的增强功能 [16268](https://github.com/magento/magento2/pull/16268) 卢卡什·巴伊萨罗维奇在拉车请求中定稿 [26778](https://github.com/magento/magento2/pull/26778)_. [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **删除重大欺诈保护代码的核心集成**. 不再支持此核心功能。 商户应迁移到 [Markigy Fraud &amp; Chargeback Protection扩展](https://marketplace.magento.com/signifyd-module-connect.html) Commerce Marketplace中可用的URL。

* 的 **核心Braintree模块已从代码库中删除**. “Braintree付款”模块现在提供相同的功能集。 请参阅 [Braintree付款](https://marketplace.magento.com/paypal-module-braintree.html).

* 不再支持Internet Explorer 11.x浏览器。

### 基础架构改进

此版本包含对核心质量的增强，这改进了框架及以下模块的质量：客户帐户、目录、CMS、导入、购物车和结账以及B2B。

* **第三方支付方式核心集成的移除**. 在此版本中，已从核心代码中删除Authorize.Net付款方法集成。 商户应迁移到Commerce Marketplace上可用的正式扩展。 请参阅 [弃用付款集成](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445) devblog文章。 <!-- MC-29029-->

* **支持部分字搜索以进行Elasticsearch（新增默认搜索引擎）**. 现在，使用快速搜索时，Elasticsearch支持在产品名称和SKU的搜索词中使用部分词语。 MySQL搜索引擎支持此功能，该引擎已弃用并在此版本中由Elasticsearch取代。

* **PayPal JavaScript SDK升级**. 我们已将PayPal Express结账集成迁移至最新的PayPal JavaScript SDK，该SDK可自动收集所需的风险参数并将其传递至PayPal。 PayPal Express Checkout付款方法的行为保持不变。 但是，将此SDK升级到最新版本后，商家便可以访问最新功能和安全增强功能。 <!-- MC-30962-->

* **弃用和删除“Web设置向导”**. 必须使用命令行来安装或升级2.4.0。请参阅 [安装Magento](../../../installation/advanced.md).

* **编辑器更新插件**. 编辑器插件通过解决必须对根项目所做的更改来简化升级过程 `composer.json` 文件之前，将其更新为新版本。 此插件可防止覆盖自定义项。 请参阅 [使用编辑器根插件升级](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).

* **卖家辅助购物**. 此功能允许商家代表其客户查看店面。 客户选择允许店面访问其帐户。 该社区开发的功能包括由 [马盖凡](https://magefan.com/). 请参阅 [卖家辅助购物](https://docs.magento.com/user-guide/configuration/customers/login-as-customer.html). 功能包括：

   * 可以按网站配置用于控制哪些管理员可以登录到客户帐户的ACL
   * 与多个网站和客户帐户范围的兼容性
   * 代表客户下达的订单将记录在店面和管理员中
   * 管理员注销后，所有会话都将被销毁，管理员无法访问客户密码。

### 性能改进

* **改进了客户数据区域失效逻辑**. 此版本引入了一种使所有客户部分数据失效的新方法，可避免自定义时本地存储出现已知问题 `sections.xml` 无效。  (以前，当您具有自定义内容时，无法正确填充专用内容（本地存储） *etc/frontend/sections.xml* （操作无效。） 请参阅 [专用内容](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

* **对Redis性能进行了多项优化**. 这些增强功能可最大限度地减少对每个请求执行的对Redis的查询数。 这些优化包括：

   * 减少Redis与Magento之间网络数据传输的大小

   * 通过提高适配器自动确定需要加载的内容的能力，减少Redis的CPU周期消耗

   * 减少Redis写操作的争用条件
   请参阅 [将Redis用于页面和默认缓存](../../../configuration/cache/redis-pg-cache.md) 和 [配置缓存](../../../configuration/cache/caching-overview.md).

* **改进了SQL查询结果对库存表的缓存**. 这些增强功能包括：

   * 将SQL查询缓存到 `inventory_stock_sales_channel` 表（1个查询，而不是16个查询）

   * 将查询结果缓存到 `inventory_stock` 表（1个查询，而不是16个查询）

* **使快速订购加货车性能提高了多达25-30%**.

* 商户现在可以使用 [延迟加载](https://en.wikipedia.org/wiki/Lazy_loading) 来加载图像。

### Adobe Stock集成v2.0

**能够从媒体库许可库图像预览**. 商户现在可以在媒体库中找到任何Adobe Stock预览图像，这减少了许可库存预览图像所需的步骤数。

### 新媒体集

此前的媒体集的替代功能为媒体资产提供了一个可搜索的新界面。 现在，管理员搜索、过滤和排序图像的速度比此功能早期版本中的速度快30倍。 商户可以使用此工具来评估店面图像的使用情况。 扩展开发人员应当注意，为媒体集开发的扩展将无法按预期在新的媒体集中使用。

### Inventory management

Inventory management对此版本的增强功能包括对店内皮卡和捆绑产品支持的支持。 请参阅 [Inventory management发行说明](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html) 以更详细地讨论Inventory management的最新错误修复。

### GraphQL

GraphQL增强功能包括：

* `pickupLocations` 查询支持库存内提货功能
* `categories` 查询会返回与指定过滤器匹配的类别列表。 此查询与 `categoryList` 中的查询支持分页。
* `reorderItems` 变异允许登录用户将上一订单中的所有产品添加到购物车。

请参阅 [GraphQL开发人员指南](https://devdocs.magento.com/guides/v2.4/graphql/) 以了解有关此功能和其他增强功能的详细信息。 请参阅 [发行说明](https://devdocs.magento.com/guides/v2.4/graphql/release-notes.html) 以详细了解GraphQL的最新错误修复。

### PWA Studio

请参阅 [兼容性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) 以获取PWA Studio版本及其兼容版本的列表。 有关增强功能和错误修复的信息，请参阅 [PWA Studio版本](https://github.com/magento/pwa-studio/releases).

### 功能测试框架

MFTF v3.0.0包括以下新功能，并且包含对PHP 7.4和PHPUnit 9的支持：

* MFTF帮助程序，它可以在测试框架之外创建自定义操作
* 测试实体的模式更新
* 测试模块中的子文件夹
* 嵌套断言语法
* 静态检查检查和报告引用已弃用的测试实体

此版本还删除了为将测试升级到MFTF主要版本要求而添加的已弃用操作和升级脚本。

### 供应商开发的扩展增强功能

此版本包括由第三方供应商开发的扩展。 它对这些扩展引入了质量和UX改进，并扩展了MFTF覆盖范围。

Commerce Marketplace扩展供应商在发布其2.4.0扩展的新版本时，应确认其扩展与PHP 7.4兼容。

#### Amazon Pay

此版本包括：

* CSP更允许列表新
* 能够为多物料订单执行多个授权
* 支持日语地址

#### Braintree付款

此扩展取代了我们的核心Braintree集成。 它提供与Braintree核心集成相同的功能。 请参阅 [Braintree付款](https://marketplace.magento.com/paypal-module-braintree.html).

#### 克拉纳

此版本包括新的现场消息传送选项，可帮助购物者了解可用的信用和融资选项。 此外，还改进了：

* 退款
* API效率
* cookie和单元测试
* 折扣
* 配置设置现在包含用于控制Klarna促销消息的店面显示的现场消息传送部分。 请参阅 [设置Klarna](https://docs.magento.com/user-guide/payment/klarna-setup.html).

#### 顶点

此版本的Vertex包括以下新功能和增强功能：

* 改进了管理员配置用户体验
* 使用XML架构文件和修补程序替换安装和升级脚本
* 删除已弃用的代码(`ApiClient` 和 `ClientInterface`)

#### 育浦

“Yotpo评级和评论”与“页面生成器”集成。

## 已修复的问题

我们修复了2.4.0核心代码中的数百个问题。

### 安装、升级、部署

<!-- MC-23940-->

* 现在，您可以成功删除网站以及 `app/etc/config.php` 如预期。 以前，当您尝试删除网站时，操作失败，应用程序显示以下错误： `The website with code xxx that was requested wasn't found. Verify the website and try again`. 此外，应用程序在店面上显示此错误： `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`. [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* 中禁用的配置设置 `index.php` 不再可在管理员中编辑。

<!-- MC-32405-->

Magento Open Source安装现在成功完成，在中预定义存储配置时，将按预期创建存储 `config.php`.

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` 已重组以减少 `SHOW TABLE STATUS` 查询。 （此更改将还原为此函数在2.3.3中显示的行为。）

<!-- MC-23890-->

* 每当您尝试通过运行来升级数据库时，数据脚本将不再重新运行 `bin/magento setup:upgrade`. 以前，升级脚本会不必要地重新运行，从而影响性能。 [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* 现在，当您与Redis的连接中断时，应用程序会显示以下行为。 以前，应用程序不会重新加载当前页面并显示以下错误： `An error has happened during application run. See exception log for details`.

   * 管理员和店面会话过期
   * 管理员和店面用户必须重新登录
   * 会话数据将保存到 `var/session/`
   * 未记录错误或异常。

<!-- ENGCOM-6686-->

* 的 `bin/magento setup:di:compile` 命令不再因匿名类失败。 _修复了由Yevhen Sentiabov在拉取请求中提交的问题 [26533](https://github.com/magento/magento2/pull/26533)_. [GitHub-26532](https://github.com/magento/magento2/issues/26532), [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* 使用替代的LESS编译器（与默认随应用程序一起提供的编译器相比）时，Magento的Luma主题中LESS编译问题已得到解决。 _由Pieter Hoste在拉取请求中提交的修复 [24003](https://github.com/magento/magento2/pull/24003)_. [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* 您不再需要可写 `env.php` 文件。 相反，应用程序会设置 `no-cache` 维护模式下所有前端请求的标头(`Cache-Control`)。 以前，在 `env.php` 为只读，并且应用程序尝试在切换到维护模式时禁用FPC。 _由Marco Pcke在拉取请k̦求中提交的修复 [25790](https://github.com/magento/magento2/pull/25790)_. [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify`  在 `ddev` 设置。 _Daniel Ruf在拉取请求中提交的修复 [26763](https://github.com/magento/magento2/pull/26763)_. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* 更新了编辑器依赖项以实施Redis密钥到期，这改进了Redis性能。 _在拉取请求中由toxix提交的修复 [25488](https://github.com/magento/magento2/pull/25488)_. [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### Adobe Stock集成

<!-- ENGCOM-6507-->

* CSS样式已添加到Adobe Stock图像显示中，以支持突出显示所选图像。  _修复了Serhiy Zhovnir在拉取请求中提交的问题 [25864](https://github.com/magento/magento2/pull/25864)_. [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* 通过Adobe Stock预览图像的导航不再通过使用箭头键移动输入字段光标来触发。  _修复了由Adarsh Manickam在拉取请求中提交的问题 [27138](https://github.com/magento/magento2/pull/27138)_. [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* 现在，当客户尝试将过滤器应用于Adobe Stock图像时，应用程序会缓存出现错误的消息。 _由Shankar Konar在拉取请求中提交的修复 [26502](https://github.com/magento/magento2/pull/26502)_. [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* 在单击鼠标后将光标移动到窗口的左垂直滚动条上时，应用程序不再保存Adobe Stock图像的预览 **保存预览** 但不确认保存操作。 _修复了Serhiy Zhovnir在拉取请求中提交的问题 [27399](https://github.com/magento/magento2/pull/27399)_. [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### 后端

<!-- MC-25036-->

* 电子邮件模板(**管理员** > **营销** > **通信** > **电子邮件模板**&#x200B;现在，在启用JavaScript缩小后，可以从管理员中预览)。 以前，尝试预览电子邮件模板时，“电子邮件预览”弹出窗口为空。 [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* 现在，在创建具有有限权限的管理员帐户后，管理员可以按预期方式登录管理员。 以前，管理员无法访问。 相反，具有这些权限的用户会被重定向到店面，并出现404错误。 _由Eden Duong在拉取请求中提交的修复 [25909](https://github.com/magento/magento2/pull/25909)_. [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* 在您复制产品时，应用程序不再复制URL键、元标题、元关键字和元描述等SEO数据。  _由Dasharth路径在拉取请求中提交的修复 [26659](https://github.com/magento/magento2/pull/26659)_. [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* 从中创建图像时，当您从页面中删除图像时，应用程序不再引发错误 **管理员**  > **内容** > **页面**  >  **添加新页面**. 以前，应用程序在开发人员控制台中抛出此错误： `500 (Internal Server Error)`. _由Eden Duong在拉取请求中提交的修复 [25924](https://github.com/magento/magento2/pull/25924)_. [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### 捆绑产品

<!-- MC-25251-->

* 的性能 `catalog_product_price` 已改进捆绑产品的重新索引操作。

<!-- MC-29633-->

* 当捆绑产品的 **税种** 和 **动态价格** 默认存储视图的设置处于禁用状态。 以前，当管理员取消选中 **使用默认值** 选项旁边 **税种**，应用程序会启用选项，允许管理员输入其他值并保存产品。

<!-- MC-30257-->

* 现在，可以在产品页面上正确计算捆绑产品价格。

<!-- MC-29745-->

* 现在，您可以向购物车添加任意数量的捆绑产品，并且不会出错。 以前，将捆绑产品添加到购物车，然后导航到购物车时，应用程序会显示以下错误： `Please correct the quantity for some products`.

### 缓存

<!-- ENGCOM-7114-->

* 的 `cache.xsd` 模式 `Magento\Framework\Cache` 已重构，以便在没有 `instance` 通过管理员缓存管理禁用模块时，属性不再导致异常。 以前，在使用 `cache.xml` 没有 `instance` 参数时，应用程序会引发异常。  _由Andrii Beziazychnyi在拉取请求中提交的修复 [27307](https://github.com/magento/magento2/pull/27307)_. [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` 如果在部署中配置了数据库缓存引擎，则不再失败。 _由Andrii Beziazychnyi在拉取请求中提交的修复 [25722](https://github.com/magento/magento2/pull/25722)_. [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### 购物车和结账

<!-- MC-23870-->

* 当 **与后端同步** 配置设置已启用。 [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* 现在，在结帐工作流中，可按预期启用发运方法的单选按钮。

<!-- MC-30258-->

* 现在，当使用 **手动应用** 设置。 以前，“审阅”页面未通过验证，并且应用程序显示404错误。

<!-- MC-32330-->

* 当购物车上的价格更新时，应用程序现在会显示旋转图标。

<!-- MC-33230-->

* 现在，当迷你购物车中的产品在结账前出现缺货时，应用程序会显示一则信息性消息。 删除缺货项目后，应用程序将显示 **继续结帐** 按钮。 以前，应用程序不显示此按钮。

<!-- MC-31391-->

* 现在，当您尝试通过单击 **按SKU订购** 上传文件损坏时。 以前，应用程序会显示一个空白页面。

<!-- MC-32962-->

* 现在，应用程序只将购物车价格规则应用到符合规则条件的捆绑产品子产品。 以前，应用程序将购物车价格规则应用于属于捆绑产品的所有子产品。

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  已被`StorefrontMinicartSection` 在MFTF测试中。   _由Andrii Kalinich在拉取请求中提交的修复 [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* 已删除发运地址表单上对国家/地区选择器组件的硬编码引用。  _由Mateusz Krzeszowiak在拉取请求中提交的修复 [25541](https://github.com/magento/magento2/pull/25541)_. [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* 在Internet Explorer中查看店面时，当光标悬停在该图标上时，应用程序不再为购物车中的删除图标加下划线。  _由divyajothi5321在拉取请求中提交的修复 [26173](https://github.com/magento/magento2/pull/26173)_. [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* 在为帐单地址和送货地址选择了单个地址后，更改帐单地址不再更改客户的送货地址。 _由Yurii Tvardyi在拉取请求中提交的修复 [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* 迷你购物车的促销区域现在按预期呈现。 _修复了由Matti Vapa在拉取请求中提交的问题 [25375](https://github.com/magento/magento2/pull/25375)_. [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### 购物车价格规则

<!-- MC-23986-->

* 基于付款方法的购物车价格规则现在会在结帐工作流中应用。 [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* 更正了Datepicker页面元素在 **管理员** > **营销** > **促销活动** > **目录价格规则**. _修复了拉取请求中由Hitesh提交的问题 [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  已被 `StorefrontMinicartSection` 在MFTF测试中。   _由Andrii Kalinich在拉取请求中提交的修复 [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* 创建新的购物车价格规则工作流中未使用的优惠券网格已禁用。 _由Eden Duong在拉取请求中提交的修复 [24471](https://github.com/magento/magento2/pull/24471)_. [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* 在为帐单地址和送货地址选择了单个地址后，更改帐单地址不再更改客户的送货地址。 _由Yurii Tvardyi在拉取请求中提交的修复 [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### 目录

<!-- MC-25235-->

* 当您更改计划更新中包含的分层产品的名称时，应用程序不再引发错误。 以前，当您尝试使用新名称保存产品时，应用程序会显示以下错误： `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* 现在，可以按照管理员的预期方式保存自定义属性值。

<!-- MC-29775-->

* “最近查看的产品”功能现在显示仅与多商店部署中的当前商店视图关联的产品，当 **商店** > **配置** > **目录** > **最近查看/比较的产品** > **显示为当前值** 设置为 **商店视图**. 以前，无论产品分配给哪个网站，应用程序都会显示所有网站中最近查看过的产品。

<!-- MC-29896-->

* 应用程序现在可在迷你购物车中显示产品图像，且不会产生扭曲。 以前，应用程序会将图像伸展到迷你购物车中，以填充图像容器的整个宽度和高度。

<!-- MC-29866-->

* 的 `getBasePrice` 函数现在会按预期返回浮点值，而不是字符串。

<!-- MC-30229-->

* 现在，产品比较功能可按预期工作。 现在，它只在当前用户的比较列表中显示产品。

<!-- MC-30234-->

* 您现在可以为主题分配默认水印。 以前，在分配水印后，应用程序会引发致命错误。

<!-- MC-30540-->

* 现在，您可以从管理员成功编辑包含许多变体（大约5,000个）的可配置产品。 以前，当您尝试使用许多子产品编辑可配置产品时，应用程序会显示以下错误： `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* 对上的属性集排序 **管理员** > **目录** > **产品** 现在以预期的字母顺序为基础。

<!-- MC-30794-->

* “最近查看的产品”功能现在可以在多商店部署中按预期工作。

<!-- MC-31838-->

* 的 **网站中的产品** 现在，对于多站点部署中的受限管理员，默认情况下会启用新产品页面的复选框。 以前，未预选非默认网站的复选框，如果管理员未选中该复选框，应用程序将显示错误消息。

<!-- MC-32772-->

* `addToCart` 现在可以按照预期在数据层中跟踪事件。 以前，在更改产品的可配置选项后，单击 **添加到购物车**，新建 `addToCart` 事件未添加到数据层。

<!-- MC-29449-->

* 迷你购物车和管理员购物车(**管理员** > **客户** > **管理购物车**)现在在应用目录价格规则时显示正确的产品价格。 以前，店面购物车显示正确的产品价格，而迷你购物车和管理员购物车显示原始产品价格。

<!-- MC-30777-->

* 现在，对“管理员产品网格”网站列的过滤可以按预期工作。 以前，过滤结果不显示正确的产品数量，而是始终将产品总数显示为1。

<!-- MC-31432-->

* 价格条件使用 `catalog_product_entity_decimal` 按价格过滤。 但是，此表不包含可配置、捆绑动态和分组产品的记录，因为这些产品没有固定价格。 用于按价格筛选的正确表是 `catalog_product_index_price`.

<!-- ENGCOM-7104-->

* 管理员目录和产品列表现在在MSRP、成本和特殊价格列中显示货币符号。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27261](https://github.com/magento/magento2/pull/27261)_. [GitHub-21910](https://github.com/magento/magento2/issues/21910), [GitHub-20906](https://github.com/magento/magento2/issues/20906), [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* “为客户组添加价格”弹出窗口(**管理员** > **目录**  > **产品** > **新产品** > **高级定价**)现在会在您单击关闭图标时按预期关闭。 _由Ashna-Jahan在拉取请求中提交的修复 [25759](https://github.com/magento/magento2/pull/25759)_. [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* 为新产品描述和标题提供的示例描述不再包含双引号。  _由Nathan Morgan在拉取请求中提交的修复 [25655](https://github.com/magento/magento2/pull/25655)_. [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* 当您尝试使用无效价格在“类别”页面上过滤产品时，应用程序不再引发错误。 以前，应用程序在系统日志中记录了此错误。 _修复了Ihor Sviziev在拉取请求中提交的问题 [25912](https://github.com/magento/magento2/pull/25912)_. [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* 您现在可以在多页面类别搜索结果中导航。 以前，当您尝试使用“返回”按钮返回到搜索结果的第一页时，应用程序会创建搜索结果的重复页面。 _由Douglas Radburn在拉取请求中提交的修复 [25337](https://github.com/magento/magento2/pull/25337)_. [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* 已将返回类型更正为 `string|null` 对于 `getSourceModel` 方法 `Eav\Attribute.php` 类。 _修复了Mychailo在拉取请求中提交的问题 [25333](https://github.com/magento/magento2/pull/25333)_. [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* 保存新（重复）产品不再会导致产品映像重复数百次。 _修复了Jeroen在拉取请求中提交的问题 [25875](https://github.com/magento/magento2/pull/25875)_. [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* 当您删除具有类型为的自定义选项的产品时，应用程序不再引发JavaScript错误 `file` 在管理员创建订单时。  _由adrian-martinez-interactiv4在拉取请求中提交的修复 [24843](https://github.com/magento/magento2/pull/24843)_. [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* 使用创建无图像的产品 `product_page_image_large` 会导致占位符图像按预期显示。 以前，应用程序会引发以下错误： `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`. _Lukasz Bajsarowicz在拉取请求中提交的修复 [26974](https://github.com/magento/magento2/pull/26974)_. [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* 您可以使用 `POST /V1/:sku/links` 端点来设置产品链接，当产品具有现有链接时，使用空的产品数组。 以前，应用程序会引发错误。 _修复了由Sathish Subramanian在拉取请求中提交的问题 [26979](https://github.com/magento/magento2/pull/26979)_. [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* 现在，您可以使用“产品”网格中的“操作”下拉菜单，在您从“管理员”更新多个产品属性时，指定产品是否具有重量。  _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26075](https://github.com/magento/magento2/pull/26075)_. [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* 验证逻辑已添加到 **网格允许值上的每页产品数** 和 **网格默认值上的每页产品数** “存储配置”页的字段。 以前，存储管理员可以在这些字段中输入不可用值。  _Lukasz Bajsarowicz在拉取请求中提交的修复 [27093](https://github.com/magento/magento2/pull/27093)_. [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### 目录小组件

<!-- MC-29167-->

* 的 `CatalogWidget` 现在，“产品”列表可在锚点类别中按预期工作，并且现在匹配并显示锚点类别中的产品。 以前，当您选择的父类别是锚点，但不包含已分配产品时，小组件中不显示产品。

<!-- MC-30260-->

* 现在，应用程序会按预期显示选定父类别的所有子项。 以前，如果您选择了作为锚点的父类别，但该类别不包含已分配的产品，则应用程序不会显示所有嵌套的产品。

<!-- MC-31171-->

* 现在，“最近查看的产品”小组件在 **商店** > **配置** > **目录** > **目录** > **最近查看/比较** > **将小组件产品与后端存储同步** 设置为 **是**.

### 清理

<!-- ENGCOM-6573-->

* 从模块XML中删除了额外的结束标记。 _修复了由Tejash Kumbhare在拉取请求中提交的问题 [26339](https://github.com/magento/magento2/pull/26339)_. [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* 修正了 **我的帐单和送货地址是相同的** 复选框。  _由divyajothi5321在拉取请求中提交的修复 [26169](https://github.com/magento/magento2/pull/26169)_. [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* 删除了结帐工作流“送货地址”部分的字段标签和星号之间不必要的空格。  _Daniel Ruf在拉取请求中提交的修复 [26285](https://github.com/magento/magento2/pull/26285)_. [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* 更正了结帐工作流“发运方法”部分中单选按钮的未对齐问题。  _修复了拉取请求中由Hitesh提交的问题 [25966](https://github.com/magento/magento2/pull/25966)_. [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* 更正了移动设备视图中不一致的菜单间距。 _修复了拉取请求中由Hitesh提交的问题 [26238](https://github.com/magento/magento2/pull/26238)_. [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* 更正了“Edit（编辑）”和“Remove（删除）”图标在移动设备视图中的未对齐情况。  _由Vasili Burlacu在拉取请求中提交的修复 [27493](https://github.com/magento/magento2/pull/27493)_. [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* 更正了“新税率/邮政编码”页(**管理员**  >  **存储**  >  **税** >  **税区和税率**)。 _修复了由Sathish Subramanian在拉取请求中提交的问题 [26932](https://github.com/magento/magento2/pull/26932)_. [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* 现在，从安装向导到管理员的链接可以按预期工作。 _由Oleh Usik在拉取请求中提交的修复 [26100](https://github.com/magento/magento2/pull/26100)_. [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* 在“管理员”的“缓存管理”网格的状态列中，已禁用排序。 _修复了由Sathish Subramanian在拉取请求中提交的问题 [26215](https://github.com/magento/magento2/pull/26215)_. [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* 更正了 **管理员** >  **商店**  >  **属性**  > **评级** >  **添加新评级** 对话框。 _修复了由Sathish Subramanian在拉取请求中提交的问题 [27014](https://github.com/magento/magento2/pull/27014)_. [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* 更正了“添加设计更改”页面上日历图标的未对齐问题。 _由Eduard Chitoraga在拉取请求中提交的修复 [26063](https://github.com/magento/magento2/pull/26063)_. [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* 删除了主页悬停菜单子菜单显示中不必要的空格。 _修复了拉取请求中由Hitesh提交的问题 [25973](https://github.com/magento/magento2/pull/25973)_. [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* 更正了店面产品详细信息页面上的价格标签未对齐的问题。 _由divyajothi5321在拉取请求中提交的修复 [26237](https://github.com/magento/magento2/pull/26237)_. [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* 纠正了与  **添加到购物车** 按钮。  _由divyajothi5321在拉取请求中提交的修复 [26183](https://github.com/magento/magento2/pull/26183)_. [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* 集成成功消息显示在  **管理员**  > **系统** > **扩展** > **集成** 现在可正确显示。 _由divyajothi5321在拉取请求中提交的修复 [26011](https://github.com/magento/magento2/pull/26011)_. [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### CMS内容

<!-- MC-29619-->

* 您现在可以保存和复制所有CMS页面。 以前，当您尝试复制某些页面时，应用程序会引发此异常： `Unique constraint violation found`.

<!-- MC-30963-->

* 现在，如果块被分配给不同的存储视图，则利用应用程序可以创建名称相同的CMS块。

<!-- MC-30103-->

* 从图库中选择图像缩略图现在可以按预期方式缓存。 以前，会即时调整这些图像的大小。

<!-- MC-32275-->

* 在保存已分配给多个存储的CMS页面时，应用程序不再引发错误。 以前，在您创建或编辑CMS页面时，应用程序保存了该页面，但同时也抛出了以下错误： `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`.

<!-- MC-32452-->

* 新的CMS页面现在可以按预期添加到网站的商店页面层次结构中。

<!-- ENGCOM-7033-->

* CMS页面自定义布局更新逻辑已得到改进。 现在，应用程序会从 `cms_page_view_selectable_home_somechanges.xml`. _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27131](https://github.com/magento/magento2/pull/27131)_. [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### 可配置产品

<!-- MC-23546-->

* 现在，可配置产品的子产品可以通过API成功禁用。

<!-- MC-30391-->

* 购物车价格规则(包含 **条件设置为类别（仅限父项）** 现在可以按预期工作。

<!-- MC-30989-->

* 您现在可以从“交叉销售”选项卡将可配置的产品添加到购物车。 选择产品并单击 **添加到购物车** 在此选项卡中，您现在转到产品详细信息页面，您可以在该页面中选择特定的产品选项。 以前，应用程序会将您重定向到404错误页面。

<!-- MC-32411-->

* 当链接这些产品的API调用失败时，应用程序不再将简单产品链接到可配置产品。

<!-- ENGCOM-6483-->

* 更正了可配置产品的“当前变体”列表中SKU的呈现。 _由KaushikChavda在拉取请求中提交的修复 [26007](https://github.com/magento/magento2/pull/26007)_. [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* 您现在可以保存 `system.xml` 通过在  **管理员** > **系统** > **配置** 在没有关联标签的字段中。 _修复了由Andrii Chorniy在拉取请求中提交的问题 [25985](https://github.com/magento/magento2/pull/25985)_. [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* 的性能 `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable` 已优化。  _由Stanislav Ilnytskyi在拉取请求中提交的修复 [26071](https://github.com/magento/magento2/pull/26071)_. [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* 改进了负责更新可配置产品映像的逻辑。 以前，与可配置产品关联的简单产品仅显示与可配置产品关联的默认图像，而应用程序有时显示错误的产品主图像。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [26560](https://github.com/magento/magento2/pull/26560)_. [GitHub-26473](https://github.com/magento/magento2/issues/26473), [GitHub-26856](https://github.com/magento/magento2/issues/26856), [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* 现在，当您选择可配置产品的折扣选项时，应用程序会按预期显示产品的特殊价格。 以前， `class="normal-price"` 未更改为 `class="special-price"` 选择折扣选项时。 _由Ravi Chandra在拉取请求中提交的修复 [26170](https://github.com/magento/magento2/pull/26170)_. [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookie

<!-- MC-24182-->

* 的 `setRedirectCookie` 和 `clearRedirectCookie` 函数现在可按预期工作。 以前，这些函数会将Cookie发送到浏览器，但缺少所有Cookie参数。 [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- ENGCOM-6891-->

* 元数据已添加到 `setRedirectCookie` 和 `clearRedirectCookie` 函数。  _由Alexander Lukyanov在拉取请求中提交的修复 [24612](https://github.com/magento/magento2/pull/24612)_. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### 自定义客户属性

<!-- MC-32301-->

* 在 **Forms在中使用** 字段。 以前，应用程序会引发以下错误： `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`.

### 客户

<!-- MC-29102-->

* 注册新帐户后，以来宾身份订阅新闻稿的客户将不再取消订阅。

<!-- MC-29841-->

* 应用程序现在使用新 `PHPSession` 每次更改密码。

<!-- MC-30650-->

* 现在，您可以使用 **客户** > **所有客户** > **添加新客户**. 以前，当您尝试将新客户与多站点部署中的非默认网站关联时，应用程序会显示以下错误： `The store view is not in the associated website`.

<!-- MC-29946-->

* 现在，当交易因信用卡无效而最初被拒绝，但随后成功完成时，应用程序会保存客户在结帐期间在默认帐单和送货字段中输入的信息。 以前，虽然应用产品在客户输入有效付款信息时创建了订单，但是它不会更新结帐工作流的“我的帐户”部分中的默认帐单或送货地址。

<!-- MC-32325-->

* 现在，当您从多站点部署的管理员中创建新客户时，应用程序将遵循客户组设置。

<!-- MC-31481-->

* 现在，应用程序使用 **客户和地址（单个文件）** 选项时 `cron` 启用，并且Customer Grid索引器设置为 **按计划更新**. 之后 `cron` 执行后，导入的客户信息将按预期在管理员中可用。 以前，应用程序会导入客户数据，但不会使用新导入的客户记录更新客户网格。

<!-- MC-31117-->

* 现在，在需要出生日期时，您可以从店面创建新客户。 以前，在需要填写此字段时，即使您输入了有效的DOB值，也无法创建新客户。 [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* 现在，管理员创建的客户将按照预期遵循默认的客户组设置。

<!-- MC-31425-->

* 的 `PHPSessionId` 现在，客户注销并重新登录后，会按预期进行更改。

<!-- MC-32152-->

* 现在，客户购物车的“管理员”视图会显示在多网站部署中从多个网站添加到购物车的所有产品。 以前，当客户从非默认网站将产品添加到购物车时，即使在 **共享客户帐户** 设置为 **全球**.

<!-- ENGCOM-6667-->

* 现在，当从管理员查看购物车时，应用程序只显示客户放入购物车中的产品。 以前，从管理员查看客户的购物车时，会显示目录中的所有产品。 _由Ravinder在拉取请求中提交的修复 [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-7036-->

* 验证现在可以按预期在 **出生日期** 字段。 以前，应用程序不考虑用户区域设置，对于某些出生日期，显示以下错误： `The Date of Birth should not be greater than today`.   _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* 向管理员下订单时，不再需要电子邮件字段。  _由solwininfotech在拉取请求中提交的修复 [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6423-->

* “我的帐户”功能板现在可以在移动设备视图中正确显示电子邮件地址值。 _由Eden Duong在拉取请求中提交的修复 [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* 单击 **创建帐户** 按钮，客户注册表单将不再多次提交注册请求。 _由princeCB在拉取请求中提交的修复 [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

<!-- MC-29102-->

* 注册新帐户后，以来宾身份订阅新闻稿的客户将不再取消订阅。

<!-- MC-29841-->

* 应用程序现在使用新 `PHPSession` 每次更改密码。

<!-- MC-30650-->

* 现在，您可以使用 **客户** > **所有客户** > **添加新客户**. 以前，当您尝试将新客户与多站点部署中的非默认网站关联时，应用程序会显示以下错误： `The store view is not in the associated website`.

<!-- MC-29946-->

* 现在，当交易因信用卡无效而最初被拒绝，但随后成功完成时，应用程序会保存客户在结帐期间在默认帐单和送货字段中输入的信息。 以前，虽然应用产品在客户输入有效付款信息时创建了订单，但是它不会更新结帐工作流的“我的帐户”部分中的默认帐单或送货地址。

<!-- MC-32325-->

* 现在，当您从多站点部署的管理员中创建新客户时，应用程序将遵循客户组设置。

<!-- MC-31481-->

* 现在，应用程序使用 **客户和地址（单个文件）** 选项时 `cron` 启用，并且Customer Grid索引器设置为 **按计划更新**. 之后 `cron` 执行后，导入的客户信息将按预期在管理员中可用。 以前，应用程序会导入客户数据，但不会使用新导入的客户记录更新客户网格。

<!-- MC-31117-->

* 现在，在需要出生日期时，您可以从店面创建新客户。 以前，在需要填写此字段时，即使您输入了有效的DOB值，也无法创建新客户。 [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* 现在，管理员创建的客户将按照预期遵循默认的客户组设置。

<!-- MC-31435-->

* 的 `PHPSessionId` 现在，客户注销并重新登录后，会按预期进行更改。

<!-- MC-32152-->

* 现在，客户购物车的“管理员”视图会显示在多网站部署中从多个网站添加到购物车的所有产品。 以前，当客户从非默认网站将产品添加到购物车时，即使在 **共享客户帐户** 设置为 **全球**.

<!-- ENGCOM-7036-->

* 验证现在可以按预期在 **出生日期** 字段。 以前，应用程序不考虑用户区域设置，对于某些出生日期，显示以下错误： `The Date of Birth should not be greater than today`.   _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* 向管理员下订单时，不再需要电子邮件字段。  _由solwininfotech在拉取请求中提交的修复 [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* 现在，当从管理员查看购物车时，应用程序只显示客户放入购物车中的产品。 以前，从管理员查看客户的购物车时，会显示目录中的所有产品。 _由Ravinder在拉取请求中提交的修复 [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* “我的帐户”功能板现在可在移动设备视图中正确显示显示的电子邮件地址值。 _由Eden Duong在拉取请求中提交的修复 [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* 单击 **创建帐户** 按钮，客户注册表单将不再多次提交注册请求。 _由princeCB在拉取请求中提交的修复 [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### 目录

<!-- MC-33168-->

* 默认状态下拉菜单现在由基于在为 **默认纳税目的地计算** 字段。 以前，此下拉列表列出了分配给默认网站的国家/地区。

### 可下载

<!-- MC-32306-->

* 现在，您可以使用导入文件按SKU和描述批量更新可下载的产品。 以前，会发生验证错误，导入失败。

### EAV

<!-- MC-29999-->

* 现在，应用程序遵循特定于存储的设置，这些设置可确定在多站点部署中是否需要签出工作流的电话号码字段。 以前，在在结帐工作流中一个存储需要此字段，而另一个存储没有填写此字段的部署中，在注销不需要此字段的存储时未填写此字段的客户遇到以下错误： `Please check the shipping address information. "telephone" is required. Enter and try again`.

<!-- ENGCOM-6489-->

* EAV排序依据 `attribute option_id` 现在按预期工作。 _修复了Tan Sezer在拉取请求中提交的问题 [24360](https://github.com/magento/magento2/pull/24360)_. [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* 现在，您可以通过REST添加新属性并将其分配给管理员中设置的属性后，您便可以创建新产品。 以前，应用程序会引发500错误。  _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27191](https://github.com/magento/magento2/pull/27191)_. [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### 电子邮件

<!-- MC-32842-->

* 在客户请求退货时发送给客户的授权电子邮件现在包含预期的RMA状态。 以前，此电子邮件会显示空字符串，而不是预期的返回状态。

<!-- MC-32864-->

* 在客户帐户在全球共享的多站点部署中，当客户报告忘记的密码时，客户不再从当前网站重定向到其他网站。 以前，客户会被重定向到创建帐户的网站。

<!-- MC-31544-->

* 发送给客户的订单确认电子邮件现在包含按预期排列的项目列表。 以前，在管理员中通过加载和保存默认模板来创建电子邮件模板时，从此模板生成的电子邮件不包含已排序项目的列表。 [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### 框架

* 对Zend Framework的依赖项已迁移到 [拉米纳斯项目](https://getlaminas.org/about/foundation) 以反映Zend Framework向Linux Foundation的Laminas项目的转换。 Zend Framework已弃用。 _修复了Ihor Sviziev在拉取请求中提交的问题 [26436](https://github.com/magento/magento2/pull/26436)_. [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* 现在，对于使用荷兰语区域设置的管理员帐户，特殊价格范围设置（从/到日期）可正常使用。

<!-- MC-29388-->

* `php bin/magento cron:run` 不再多次处理更改日志表中的项目。 以前，如果更改日志表中有100000个以上的新版本，则可以对相同版本多次调用操作 `entity id`.

* `php bin/magento setup:cron:run` 命令现已删除。 升级时应删除crontabs中对此的引用。

* 的 `update/cron.php` 文件已在2.4.0中删除，如果此文件存在于您的安装中，则可以安全地将其删除。 此外，在升级时还应在crontabs中删除对此文件的引用。

<!-- MC-30544-->

* “更新属性”操作现在可以正确更新产品的时间戳 `updated_at column` 从 `catalog_product_entity` 从“管理员”编辑产品页面更新产品时。

<!-- MC-30834-->

* 设置 `'persistent' => '1'` in `env.php` 运行时不再引发错误 `setup:upgrade`.

<!-- MC-32243-->

* 的 **表单键无效。 请刷新页面** 现在，登录页面上的文本字符串已按预期进行翻译。

<!-- MC-33278-->

* 我们改进了 `Magento\Framework\App\DeploymentConfig\Reader::load` 函数。 以前，当向Magento发出请求时，会重复调用此函数，从而导致 `config.php` 和 `env.php config` 每次调用方法时都加载文件。

<!-- MC-31728-->

* 应用程序不再下载 `blank.html` 页面。

<!-- MC-31729-->

* 页面上不存在（未声明）组件的参考说明中，在默认布局中添加的不可缓存块不再影响页面缓存。 将不可缓存块添加到默认布局处理程序会导致所有页面都不可缓存。 这是布局生成过程的结果：在布局生成过程中，应用程序会收集特定页面的所有可用布局句柄，并将它们中的说明合并到页面的最终布局结构中。 默认布局句柄用作每个页面的基本句柄。 因此，为默认处理程序声明的布局更新会显示在每个页面上。 [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* MySQL锁管理器现在是主锁管理器。 因此， MySQL所需的最低版本为5.7.9。

<!-- ENGCOM-6431-->

* `queue_consumer.xml` 现在允许 `handler` 类。 以前，当处理程序在其路径中包含数字时，XSD验证失败。 _由Eden Duong在拉取请求中提交的修复 [25952](https://github.com/magento/magento2/pull/25952)_. [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* 错误 `@var` 引用 `doc` 类成员变量的块 `$queueIterator` 在类中 `\Magento\Framework\MessageQueue\Topology\Config` 已更正。 _修复由Artem Voloznov在拉取请求中提交 [24976](https://github.com/magento/magento2/pull/24976)_. [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* 现在，当文档不再存在时，将触发JavaScript页面加载侦听器 `loading` 而不是等到它标记为 `complete` 等待文档标记为 `complete` 可能会导致渲染JavaScript内容时出现严重延迟。 _由John Hughes在拉取请求中提交的修复 [23313](https://github.com/magento/magento2/pull/23313) 和拉取请求 [50](https://github.com/magento/partners-magento2ee/pull/50)_. [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* 现在，当您尝试将数量为0或负数的产品添加到您的期望列表时，应用程序会显示以下信息性消息： `Please enter a valid number in this field`. 以前，应用程序会显示以下错误： `We can't update your Wish List right now`. _由Pawe Tylek在拉取请求中提交的修复 [25641](https://github.com/magento/magento2/pull/25641)_. [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* 应用程序不再支持从 `Magento\Framework\Api\AbstractExtensibleObject` 类。 缺少PHP注释 `@api`  已添加到 `AbstractExtensibleModel`、和缺失 `@deprecated`  注释已添加到 `AbstractExtensibleObject`.  _由Alexander Taranovsky在拉取请求中提交的修复 [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* 现在，您可以在更改与产品相关的日期(例如， `news_from_date`, `news_to_date`, `special_price_from_date`, `special_price_to_date`)在实施非英语区域设置的存储中。 以前，应用程序会引发类似以下的错误：  `Invalid input datetime format of value '22/5/2019`.

### 一般修复

<!-- MC-21347-->

* “客户”模块不再依赖于“审阅”模块。 以前，由于此依赖关系，您无法禁用“审阅”模块。

<!-- MC-25250-->

* 现在，当页面的默认属性集包含带有选择标签的下拉属性时，产品编辑页面会成功加载。

<!-- MC-25260-->

* 从管理员的“订单”选项卡访问的图形订单图表现在可准确反映订单数量。

<!-- MC-29273-->

* 当这两个URL不同时，商店的管理员URL不再重定向到店面URL。

<!-- MC-29658-->

* 现在，在将性能工具包配置文件与多个网站结合使用时，子类别的URL重写生成可正确工作。

<!-- MC-30224-->

* 现在，您可以删除空用户模型，而不删除为其分配的管理员角色。

<!-- MC-30636-->

* TinyMCE4编辑器现在支持所有HTML标记。

<!-- MC-31128-->

* 单击 **离线退款** 现在，创建贷项通知单工作流中的按钮可按预期生成贷项通知单。 以前，JavaScript错误禁用了此按钮，并且应用程序未创建贷项通知单。

<!-- MC-31832-->

* 商家现在可以创建类型的产品属性 `Decimal`. 以前，由于修复了以前的错误，应用程序不显示产品属性类型 `Price`. [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* 当您尝试在店面上打开类别页面时，应用程序不再返回500错误 **布局=产品 — 全宽** 已从“类别”页面的“设计”选项卡中设置。

<!-- MC-32697-->

* 更正了 `AbstractSimpleObjectBuilder.php`.

<!-- MC-33427-->

* MAP（最低广告价格）现在可以按预期用于群组产品。

<!-- MC-29998-->

* 现在，当您在多商店部署中更改CMS页面上的语言时，应用程序会将您重定向到相应商店视图的主页。 以前，当您在某些CMS页面上更改语言时，应用程序会显示404页面。

<!-- MC-30162-->

* 订单查询(`SalesOrderIndexGridAsyncInsertCron`)进行了重构，以减小返回的数据集大小和查询频率。

<!-- MC-32371-->

* 现在，您可以成功创建CMS页面，并将其分配给CMS层次结构中的网站根类别。

<!-- MC-32783-->

* 现在，在启用类别权限(例如， **未登录** 客户组已获得这些权限)。

<!-- MC-32815-->

* 产品规则现在可按预期应用于缺货产品。 以前，即使将规则配置为显示缺货产品，应用程序也不会在相关产品列表中显示缺货产品。

<!-- MC-33222-->

* 单击 **跟踪装运** 现在，管理员订单的按钮会导致跟踪信息按预期显示在弹出窗口中。 以前，此链接会将管理员带到登录页面。

<!-- MC-31305-->

* 现在，应用程序会显示一条信息性错误消息，如果客户尝试填写包含多选客户属性的注册表单时出现错误，该应用程序会继续按预期显示注册表单。 以前，应用程序显示500错误。

<!-- MC-32224-->

* 应用程序现在显示 **贷项通知单** 按钮。 以前，在您创建部分退款后，应用程序不显示此按钮，并且您无法为订单的其余部分创建贷项通知单。

<!-- MC-31878-->

* 现在，通过REST批量更新订单可按预期修改订单状态。 以前，应用程序会引发以下错误： `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* 现在，属性过滤器可按预期显示在“类别”页面的“购物选项”块中。

<!-- ENGCOM-7175-->

* 客户帐单和送货地址现在按预期显示在Internet Explorer中时，显示在“管理员客户编辑”页面的“地址”选项卡下。 _由Vasili Burlacu在拉取请求中提交的修复 [27383](https://github.com/magento/magento2/pull/27383)_. [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* 现在，在您删除书签视图时，所有书签视图都可以继续编辑。 以前，当您删除具有多个书签视图的帐户的第一个视图后，所有书签视图都变得不可编辑。 _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26263](https://github.com/magento/magento2/pull/26263)_. [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* 分层导航不再中断HTML5对样本模块的验证。 以前，对于未在 [W3C标记验证服务](https://validator.w3.org/)，但这些属性已更改为数据属性。 _修复了由Nirav Patel在拉取请求中提交的问题 [26055](https://github.com/magento/magento2/pull/26055)_. [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* 未使用 `require.JS` 别名(`critical-css-loader``) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`. _修复由Tu Nguyen在拉取请求中提交 [26987](https://github.com/magento/magento2/pull/26987)_. [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* 应用程序现在实施PHP7.x [可穿透的界面](https://www.php.net/manual/en/class.throwable.php) 以捕获可能泄露密码等敏感信息的所有错误。 _由miszyman在拉取请求中提交的修复 [25250](https://github.com/magento/magento2/pull/25250)_. [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* 现在，在创建新文件夹弹出窗口中输入新文件夹的名称时按ESC键，可按预期关闭弹出窗口而不创建文件夹。  _由Shankar Konar在拉取请求中提交的修复 [25349](https://github.com/magento/magento2/pull/25349)_. [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* 错误嵌套的HTML结构已更正。 以前，此结构会导致相关、向上销售或交叉销售产品列表的布局损坏。 _由Pieter Hoste在拉取请求中提交的修复 [27926](https://github.com/magento/magento2/pull/27926)_. [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* 删除了对的重复调用 `addToolbarBlock`，导致 `ORDER BY`.  _由Vasili Burlacu在拉取请求中提交的修复 [27263](https://github.com/magento/magento2/pull/27263)_. [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* 商家现在可以为管理员用户帐户设置过期日期。 _修复了由Laura Folco在拉取请求中提交的问题 [22837](https://github.com/magento/magento2/pull/22837)_. [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* 我们已将 `@api`  PHP注释到 `AbstractExtensibleModel`, `@deprecated` PHP注释到 `AbstractExtensibleObject`和 `@see` to `AbstractExtensibleModel`.  _由Alexander Taranovsky在拉取请求中提交的修复 [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### GraphQL

<!-- ENGCOM-7074-->

* 应用程序现在会返回GraphQL消息 `The cart isn't active` 而不是 `Current user does not have an active cart` 在某些情况下，当购物车变为不活动并创建新购物车ID时。 _修复了Vadim Malesh在拉取请求中提交的问题 [27187](https://github.com/magento/magento2/pull/27187)_. [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* 删除了在使用GraphQL将之前添加的产品无现货时导致将产品添加到购物车的代码。 _由AleksLi在拉取请求中提交的修复 [27015](https://github.com/magento/magento2/pull/27015)_. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* 更正了GraphQL中的问题，该问题导致应用程序在产品查询中使用片段时未返回所有必需信息。 _修复了由Riccardo Tempesta在拉取请求中提交的问题 [26218](https://github.com/magento/magento2/pull/26218)_. [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* GraphQL突变 `setShippingMethodsOnCart` 不再在  `available_shipping_methods` 属性。 _修复了Vadim Malesh在拉取请求中提交的问题 [27004](https://github.com/magento/magento2/pull/27004)_. [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### 分组产品

<!-- ENGCOM-6115-->

* 现在，当属于同一组的其他简单产品无现货时，您可以将属于某个组产品的简单产品添加到购物车。  _Gihovani Filipp Pereira Detrio在拉取请m̩求中提交的修复 [24955](https://github.com/magento/magento2/pull/24955)_. [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* 现在，应用程序会向客户发送有关按预期退还的组产品的电子邮件。  _由Alexander Taranovsky在拉取请求中提交的修复 [26246](https://github.com/magento/magento2/pull/26246)_. [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* 现在，当某个已分组产品的其他子产品无现货时，您可以将某个已分组产品的子产品添加到购物车中。 以前，当一个子产品无现货时，您无法将任何其他子产品添加到购物车。

### 图像

<!-- MC-29523-->

* 图像现在保存在 `pub/media/catalog/category` 在保存类别图像时的预期值。 以前，应用程序将这些图像保存在 `pub/media/catalog/tmp/category`.

<!-- MC-30320-->

* 水印图像不再模糊它们叠加的产品图像。 以前，当水印图像大于应用到的产品图像时，产品图像不可见。

<!-- MC-32273-->

* 现在，您可以从管理员成功将图像保存到类别。 以前，保存图像后，URL中缺少部分，因此无法重新打开该图像。

<!-- MC-31727-->

* 应用程序现在会显示 `.png` 上传后图像的预期值。

<!-- ENGCOM-7063-->

* 现在，使用REST添加或更新图像时，会按预期创建图像缩略图。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27170](https://github.com/magento/magento2/pull/27170)_. [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* 由生成的图像的自定义属性 `Block\Product\ImageFactory` 现在可正确呈现。 以前，由于HTML输出的转义不正确，您无法将自己的自定义属性添加到属性标记。 _由alexander-aleman在拉取请求中提交的修复 [26959](https://github.com/magento/magento2/pull/26959)_. [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* 从iPhone查看店面时，图像不再模糊。  _修复由Dmitriy在拉取请求中提交 [24743](https://github.com/magento/magento2/pull/24743)_. [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* 店面上的图像现在可进行响应。 以前，图像高度会失真。  _由Sean van Zuidam在拉取请求中提交的修复 [27041](https://github.com/magento/magento2/pull/27041)_. [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* 现在，当 `Magento_blank` 主题。 _由Vasili Burlacu在拉取请求中提交的修复 [27497](https://github.com/magento/magento2/pull/27497)_. [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### 导入/导出

<!-- MC-25206-->

* 当导入的数据包含 `swatch_image` store-view键的值为 `no_selection`. 以前，应用程序会引发以下错误： `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`. [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* 现在，在您使用 `hide_from_product_page` 在具有多个商店视图的部署中导入产品时进行设置。

<!-- MC-29677-->

* 现在，可自定义的选项在 `row_id` 不等于产品的 `entity_id`. 以前，应用程序在 `row_id` 不等于产品 `entity_id`，导致某些产品无法导入。

<!-- MC-29916-->

* 现在，与可配置产品关联的图像在导入期间可正确上传，并可在产品编辑页面中按预期查看。

<!-- MC-30304-->

* 已导出 `.csv` 现在，文件会反映包含现货或缺货产品的过滤器设置。 以前，无论您选择哪种库存设置，应用程序都会导出所有产品。

<!-- MC-30323-->

* 现在，您可以使用导入工作流的“客户和地址”单个文件选项成功导入或更新客户。 以前，当您选择此选项时，应用程序不会导入客户数据并显示以下错误： `Invalid data for insert`.

<!-- MC-30357-->

* 现在，在导入和更新产品状态后，可按预期触发库存索引器。 以前，库存索引器没有对更改后的产品库存数据进行索引。

<!-- MC-30528-->

* 现在，当 `store_view_code` 指定。 无论您选择单独还是集体导入可配置产品，都可以执行此操作。 以前，当导入文件包含多个项目和 `store_view_code` 已指定。

<!-- MC-30672-->

* 现在，应用程序会在产品导入期间提供一条消息，用于标识导入的产品 `.csv` 文件具有重复的键。 商户可以使用此信息来解决冲突。 以前，应用程序会显示以下错误： `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* 当您尝试从 **系统** > **导出** 列表。 以前，当您尝试从此列表中删除目录时，应用程序会继续显示无法下载的文件的下载链接，并显示一则信息不详的错误消息。

<!-- MC-29959-->

* 的 `.csv` 现在，导入过程中使用的文件包含可下载产品的正确链接，并且格式正确，可支持导入和更新可下载产品。

<!-- MC-30189-->

* 应用程序现在可成功导出 `.csv` 在为“替换”设置导入行为时，选择以前导出的文件 `.csv` ，然后单击 **检查数据**. 以前，应用程序会显示以下错误： `Data validation failed. Please fix the following errors and upload the file again` 和 `Following Error(s) has been occurred during importing process`.

<!-- MC-30141-->

* 现在，在导入和更新产品状态后，可按预期触发库存索引器。 以前，库存索引器没有对更改后的产品库存数据进行索引。

<!-- MC-31198-->

* `.csv` 现在，在产品导入期间生成的文件包含可下载产品的组标题（如预期）。 以前，不必要的验证 `group_title` 导入期间，无法显示可下载产品的组标题。

<!-- MC-32153-->

* When `cron` 启用，并且您使用 **(客户和地址（单个文件）)** 选项，应用程序会按预期填充数据到“管理员”客户网格。 客户网格会在完成对 `customer_grid indexer`. 以前，应用程序不会使用新导入的客户地址更新客户网格。

<!-- MC-32154-->

* 现在，在自动重新编制索引后，应用程序会按预期显示客户列表。 以前，虽然手动运行 `bin/magento index:reindex` 使用后，客户网格在自动重新索引后不显示客户信息。

<!-- MC-30148-->

* 现在，应用程序会从 `<Magento_home>/var` 在产品导入完成后按预期执行。

<!-- MC-31879-->

* 在导入产品时，应用程序不再在管理员中创建重复的SKU `.csv` 文件。

<!-- ENGCOM-6141-->

* 当导入的可配置属性的值中包含等号(=)时，导入不再失败。 _dhoang89在拉取请求中提交的修复 [25194](https://github.com/magento/magento2/pull/25194)_. [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* 现在，所有导出的网格数据(包括Magento Open Source数据和自定义数据)都具有选项标签，而不是所有类型列的选项值 `Select` 或 `Multiselect`. 以前，导出此数据时，导出的电子表格包含ID为的列，而不是网格中显示的值。 _修复了Maksym Novik在拉取请求中提交的问题 [26523](https://github.com/magento/magento2/pull/26523)_. [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* 现在，在您通过导入 `.csv` 文件。 _Pavel Bystritsky在拉取请求中提交的修复 [25664](https://github.com/magento/magento2/pull/25664)_. [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### 索引

<!-- MC-25236 30779-->

* 我们改进了 `indexer_update_all_views`. 现在，索引速度更快，不再处理不活动的规则，并且缓存中只清除已更改产品的条目。

<!-- MC-29917-->

* 现在，店面上的产品价格可以准确反映计划目录价格规则更新的应用。 以前，在手动重新编入索引(`php bin/magento indexer:reindex catalogrule_rule`)。

<!-- MC-30588-->

* 现在，在添加了不可搜索的属性(即 `is_searchable`, `is_filterable`, `is_visible_in_advanced_search` 属性被禁用)。

<!-- ENGCOM-6533-->

* 现在，应用程序会显示一条消息，用于标识索引器以及在重新索引操作失败时索引操作所花费的时间。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [26207](https://github.com/magento/magento2/pull/26207)_. [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* 保存在  `onthefly` 索引器和平面表现在根据网站分配启用。 以前，如果从产品中删除了所有网站分配，然后保存了它，则所有平面表都包含产品，尽管存在指定的网站分配。  _修复由Abel Truong在拉取请求中提交 [27365](https://github.com/magento/magento2/pull/27365)_. [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### 基础架构

* 不再支持Internet Explorer 11.x浏览器。

<!-- MC-32223-->

* 与 **出生日期** “客户注册”表单的字段不再触发JavaScript错误。

<!-- ENGCOM-7000-->

* 添加了要涵盖的集成测试 `$storeId` 类别存储库 `get()` 方法。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [27048](https://github.com/magento/magento2/pull/27048)_. [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* 启用 **阻止所有Cookie** safari中的设置不再导致JavaScript错误，并且应用程序会显示 `cookies disabled` 消息。 以前，应用程序会显示多个 `SecurityError (DOM Exception 18): The operation is insecure` 错误。 _由Rl Verdugo Lorenzo在拉取请a̼求中提交的修复 [25324](https://github.com/magento/magento2/pull/25324)_. [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* 运行集成测试时，应用程序不再引发此错误： `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`. 以前， `AutoloaderRegistry::getAutoloader` 导致集成测试随机失败。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [26480](https://github.com/magento/magento2/pull/26480)_. [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* 的 `date` 标记 `/module-sales/view/frontend/templates/order/order_date.phtml`  已更正为 `span`. 以前，应用程序在 `exception.log` 文件 **查看顺序** 在店面 **我的帐户** > **我的命令** 页面。 _修复了由Andrii Chorniy在拉取请求中提交的问题 [25895](https://github.com/magento/magento2/pull/25895)_. [GitHub-13269](https://github.com/magento/magento2/issues/13269), [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* 对JavaScript mixin模块进行了重构，以改进高级捆绑模块mixin的加载和应用。 以前，应用程序不会加载或应用高级捆绑模块的混合。  _由Mateusz Krzeszowiak在拉取请求中提交的修复 [25587](https://github.com/magento/magento2/pull/25587)_. [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* 的 `grunt clean` 命令现在可以按预期清理生成的代码和元数据文件夹。 _由Andrii Beziazychnyi在拉取请求中提交的修复 [25765](https://github.com/magento/magento2/pull/25765)_. [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* `getVersion` 结果(`ProductMetadata::getVersion`)，这会提高 `ProductMetadata::getVersion` 方法。  _Lukasz Lewandowski在拉取请求中提交的修复 [26001](https://github.com/magento/magento2/pull/26001)_. [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* 缺少的setter `additional_information` 已添加到 `OrderPaymentInterface`，可解决其架构声明与已接受属性之间的不一致问题。 _由Antonino Bonumore在拉取请求中提交的修复 [26748](https://github.com/magento/magento2/pull/26748)_. [GitHub-26745](https://github.com/magento/magento2/issues/26745), [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### 分层导航

<!-- MC-31763-->

* 现在，应用程序会呈现 **是/否** 属性 **在分层导航中使用：可过滤（包含结果）** ，以启用storefront属性。

<!-- ENGCOM-6807-->

* 冗余 `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` 已被弃用，改为  `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`. _修复了由Adarsh Manickam在拉取请求中提交的问题 [26714](https://github.com/magento/magento2/pull/26714)_. [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### 媒体集

<!-- ENGCOM-6993-->

* 单击 **输入** 现在，在媒体库中命名新文件夹后，将保存您所做的所有更改。 以前，单击 **输入** 而不是使用鼠标选择 **确定** 导致所有更改都丢失。  _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27029](https://github.com/magento/magento2/pull/27029)_. [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* 现在，您可以在“媒体库”下创建与主文件夹同名的子文件夹。 以前，无法保存同名的子文件夹。 _修复了Vadim Malesh在拉取请求中提交的问题 [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### 媒体存储

<!-- MC-32593-->

* `var/resource_config.json` 不再在请求图像时重新生成 `get.php`. 以前，在对 `get.php`.

### 新闻稿

<!-- MC-31768-->

* 客户现在可以按预期订阅新闻稿。 以前，当客户尝试确认其订阅时，应用程序会显示以下错误： `This is an invalid subscription confirmation code`.

<!-- ENGCOM-6525-->

* 现在，任何受支持的浏览器都会以相同的方式呈现店面页脚的新闻稿输入字段。  _由divyajothi5321在拉取请求中提交的修复 [26182](https://github.com/magento/magento2/pull/26182)_. [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* 有关新闻订阅的店面消息现在按预期在HTML中呈现。 _由Oleh Usik在拉取请求中提交的修复 [26455](https://github.com/magento/magento2/pull/26455)_. [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### 订单数

<!-- MC-33456-->

* 当网站显示设置指定应排除税时，订单汇总小计不再显示排除的税。 以前，当使用不同的显示设置配置多个网站时，服务器变量中定义的设置将用于存储，尽管存储级别配置是如此。

### 付款方法

<!-- MC -->

* 将第三方支付方法Authorize.Net、eWay、CyberSource、Braintree和Worldpay集成到核心代码中的功能已被删除。 商户应迁移到Commerce Marketplace上可用的官方扩展。

<!-- MC -->

* 不再支持Mighyd欺诈保护的核心实施。 商户应迁移到 [Markigy Fraud &amp; Chargeback Protection扩展](https://marketplace.magento.com/signifyd-module-connect.html) 中的“隐藏主体”(Analytics)。

<!-- MC-32546-->

* 现在，您可以在 **Website Payments Pro托管解决方案** 已配置。 以前，单击 **返回商家**，应用程序引发此错误： `Invalid Form Key. Please refresh the page`.

<!-- ENGCOM-6606-->

* 切换帐单地址不再导致JavaScript函数文本在店面结帐工作流的付款部分中呈现。 _由Chris Pook在拉取请求中提交的修复 [26378](https://github.com/magento/magento2/pull/26378)_. [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* 贷项通知单现在在 **调整退款** “贷项通知单”概述的字段。  _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27343](https://github.com/magento/magento2/pull/27343)_. [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* 您现在可以从 `quote_payment column additional_information` 表格。 以前，在保存引号后无法删除此信息，因为 `unsAdditionalInformation` 方法 `\Magento\Payment\Model\Info` 未正确初始化数据。  _由Marco Oliveira在拉取请求中提交的修复 [26084](https://github.com/magento/magento2/pull/26084)_. [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* 付款指令现在从下订单的商店视图派生。 以前，在默认商店视图中使用付款说明，因为 `BeforeOrderPaymentSaveObserver` 方法从默认存储视图获取付款指令。 _修复了由Karyna Tsymbal在拉取请求中提交的问题 [26399](https://github.com/magento/magento2/pull/26399)_. [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* 现在，应用产品会从在使用多个商店进行部署时下达订单的商店收集管理员以及发票和发运发票中显示的付款信息。 以前，从默认存储中派生的应用程序付款信息。  _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26765](https://github.com/magento/magento2/pull/26765)_. [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### PayPal

<!-- MC-30498-->

* 现在，客户每次点击应用程序时，该应用程序都会显示一则信息性错误消息 **使用PayPal付款** 在结帐工作流中输入无效的送货地址后，才会执行此操作。 以前，应用程序仅在客户首次单击按钮时才显示错误消息，而不是随后单击。

<!-- MC-30639-->

* 应用程序不再将订单的状态更改为 `Processing` 付款失败时，在结帐工作流的“付款审核”部分中查看。

<!-- MC-30864-->

* 您现在可以使用Payflow Link付款方法成功完成订单。 以前， Payflow Link付款方法始终拒绝付款，因为订单状态保留在 `Pending` 付款状态，即使付款方法日志中的订单状态为 `Approved`.

<!-- MC-32494-->

* 使用PayPal Payflow Pro下达的订单现在设置为 `Suspected Fraud` 触发欺诈过滤器时的状态。

<!-- MC-33110-->

* 现在，您可以将PayPal Express Checkout与任何受支持的信用卡结合使用。 以前，当您在使用PayPal Express Checkout完成订单时单击信用卡按钮时，应用程序会挂起，您无法输入任何信用卡信息。

<!-- MC-33117-->

* 在PayPal Payflow Pro中下达的订单现在设置为 `Suspected Fraud` 触发欺诈过滤器时的状态。 以前，在应用程序端进行付款审批之前，未验证PayPal上的付款交易状态。

<!-- MC-33294-->

* 现在，在启用“网站限制”后，Payflow Pro可以按预期工作。

<!-- MC-31196-->

* 现在，应用产品已成功处理通过PayPal Express Checkout下单下单的订单，其中订单的发运地址指定了客户在文本字段中人工输入的国家/地区，而不是从“发运”页面的下拉菜单中选择的地区。 以前，应用程序在订单审核页面上显示此错误： `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`. [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* PayPal Pro付款方法现在可在Chrome 80浏览器中按预期工作。 此付款方法以前调用了需要访问客户会话的回调端点，但新的默认Chrome SameSite Cookie功能不允许此回调端点。 [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* 现在，在启用永久结帐车且 **注销时清除持久性** 设置设置为 **否**. 以前，应用程序会将您重定向到“登录”页面。

<!-- ENGCOM-6383-->

* Paypal Express和Web Payments Pro的付款现在将转移到 `Processing` 处理开始后按预期状态。 以前， Paypal Web Payments Pro支付仍保留在 `Pending` 付款状态，即使付款信息处于 `Processing` 状态。 _修复由拉取请求中的azambon提交 [25876](https://github.com/magento/magento2/pull/25876)_. [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### 性能

<!-- MC-31499-->

* 客户数据区域失效逻辑已得到改进。 此版本引入了一种使所有客户部分数据失效的新方法，可避免自定义时本地存储出现已知问题 `sections.xml` 无效。 (以前，当您具有自定义内容时，无法正确填充专用内容（本地存储） *etc/frontend/sections.xml* （操作无效。） 请参阅 [专用内容](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

<!-- MC-31449-->

* 客户帐户的导入已进行重构，以提高导入速度。

<!-- MC-23383 ENGCOM-7006-->

* 商户现在可以使用 [延迟加载](https://en.wikipedia.org/wiki/Lazy_loading) 来加载图像。 _修复了Timon de Groot在拉取请求中提交的问题 [27033](https://github.com/magento/magento2/pull/27033)_. [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* 功能板图表已迁移到 `chart.js` 库。  _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26923](https://github.com/magento/magento2/pull/26923). [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* 对如何构建属性选项数组的重构，改进了在包含许多产品属性(范围为3,000 - 23000选项)的大型目录中运行的操作性能。 _由Behnam Shayani在拉取请求中提交的修复 [25452](https://github.com/magento/magento2/pull/25452)_. [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### 定价

<!-- ENGCOM-6647-->

* 现在，即使您多次编辑产品后，应用程序仍可以保存并显示分层产品的正确价格。 以前，应用程序不会保存对产品价格所做的最后编辑。 _由Ravi Chandra在拉取请求中提交的修复 [26162](https://github.com/magento/magento2/pull/26162)_. [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* 现在，固定和折扣保存百分比均可正确应用于订单的最终价格。 以前，应用程序在产品详细信息页面上显示错误的层价（固定和折扣）保存百分比。 _修复了由Sathish Subramanian在拉取请求中提交的问题 [26584](https://github.com/magento/magento2/pull/26584)_. [GitHub-26583](https://github.com/magento/magento2/issues/26583)

<!-- MC-30255-->

* 向客户发送的有关可配置产品重新库存的库存警报电子邮件现在包含正确的产品价格。 以前，此电子邮件的产品价格为0。

<!-- MC-32873-->

* 现在，当用户的会话过期时，产品库存警报会取消订阅。 以前，当您单击 **单击此处停止此产品的警报** 链接时，应用程序显示404错误。

<!-- MC-31979-->

* 现在，产品警报的取消订阅操作可按预期执行。 以前，当客户单击 **单击此处停止此产品的警报** 链接时，应用程序显示404错误。

### 产品视频

<!-- MC-23743-->

* 您现在可以使用REST更新YouTube视频(PUT `rest/V1/products/{SKU}`)。 以前，应用程序会显示视频的缩略图，但您单击 **播放** 按钮。 [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### 报表

<!-- ENGCOM-6635-->

* 产品列表现在可以按SKU订购可配置产品，SKU会按变体对可配置产品进行分组。 以前，报表按 `product_id`. _Lukasz Bajsarowicz在拉取请求中提交的修复 [25858](https://github.com/magento/magento2/pull/25858)_. [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* 的 **管理员** > **报表** > **刷新统计信息** 表格现在显示 **更新时间： At = Null** 状态为 **从不** 在 **已更新** 列而不是 **未定义**. _由Eden Duong在拉取请求中提交的修复 [25932](https://github.com/magento/magento2/pull/25932)_. [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* “低库存”报表不再包含禁用的产品。 _Mohamed-Asar在拉取请求中提交的修复 [26862](https://github.com/magento/magento2/pull/26862)_. [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* 现在，应用程序会为 **年初至今开始**  字段 **管理员**  >  **商店**  >  **配置**  >  **常规**  >  **报表**. _由Priya-V-Panchal在拉取请求中提交的修复 [27088](https://github.com/magento/magento2/pull/27088)_. [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### 评论

<!-- MC-29578-->

* 应用程序现在会禁用 **提交审核** 按钮。 以前，应用程序在首次单击后不会禁用此按钮，并在用户单击 **提交审核** 按钮多次。

<!-- MC-31293-->

* 的 **管理员** > **报表** > **评论** > **按产品** 过滤器列表现在可按预期显示结果。 以前，当您尝试过滤此列表时，应用程序不显示任何结果。

<!-- ENGCOM-6938-->

* “待定审阅”菜单项现在按预期在 **管理员** >  **营销** > **用户内容** > **待审**.  _由Ravinder在拉取请求中提交的修复 [26230](https://github.com/magento/magento2/pull/26230)_. [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### 销售

<!-- MC-29426-->

* 现在，已完成的订单会同时显示在付款系统和Magento Open Source中。 以前，订单出现在支付系统中，但未出现Magento Open Source。 [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* 应用程序现在遵循客户的默认送货地址。 以前，应用程序不会根据设置和 **与帐单地址相同** 设置未自动启用。

<!-- MC-30299-->

* 现在，应用产品可正确计算包含折扣的订单的退款。 以前，应用程序错误地计算了运输税和运输折扣，而退回的总额与已付总额不匹配。

<!-- MC-33165-->

* 现在，当新客户在多站点部署中创建订单时，应用程序可分配正确的组ID。 以前，应用程序应用了默认客户组的设置。

<!-- MC-31786-->

* 具有限制权限（包括查看贷项通知单、发票和发运的权限）的管理员现在可以按预期从“订单”页查看发票和发运。 以前，当受限管理员尝试查看订单时，应用程序会显示以下错误： `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- MC-24023-->

* 当客户将产品数量添加到购物车时，如果产品数量超过现有产品库存的一半，但未超过总库存，则应用程序不再显示错误。 以前，在这些情况下，应用程序会显示以下错误： `The requested qty is not available`. [Github-24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* 现在，当库存数量为1时，您可以从管理员成功地将产品添加到购物车。 以前，应用程序未将产品添加到购物车并显示以下消息： `The requested qty is not available`. _由Serhii Petrychenko在拉取请求中提交的修复 [26650](https://github.com/magento/magento2/pull/26650)._ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* 现在，当商店管理员尝试对自定义选项名称超过最大字符数的产品进行重新订购时，应用程序会显示一则信息性错误消息。 以前，在这些条件下，应用程序会显示“报表”页面，而不是消息。 _Mudit Shukla在拉取请求中提交的修复 [26348](https://github.com/magento/magento2/pull/26348)_. [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* 销售订单地址信息编辑表单的布局已重构为符合管理员表单库惯例。 _由Alexey Rakitin在拉取请求中提交的修复 [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* 复选框位于 **目录** > **类别** 页面现在可以按预期工作。  _由Denis Kopylov在拉取请求中提交的修复 [22990](https://github.com/magento/magento2/pull/22990)_. [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* 的 `getCustomer` 方法现在按照 `phpdoc` 块。 以前，此方法会返回 `NULL`和 `phpdoc` 块未突出显示此方法可返回 `NULL`. _修复了由Fanis Strezos在拉取请求中提交的问题 [26423](https://github.com/magento/magento2/pull/26423)_. [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* 现在，当商家禁用  **管理员** > **存储**  >  **配置**  >  **销售**  >  **重新排序**  >  **允许订单**.  _由Eden Duong在拉取请求中提交的修复 [26051](https://github.com/magento/magento2/pull/26051)_. [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* `getPrice()` 现在，在“管理员”中为订单设置自定义价格时，方法会返回浮点或null，而不是字符串。  _修复了由Andrii Chorniy在拉取请求中提交的问题 [26313](https://github.com/magento/magento2/pull/26313)_. [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* 的 **状态代码和标题** 列 **管理员** > **商店**  >设置>  **订单状态** 现在会按预期显示状态，而不是状态。  _由Oleh Usik在拉取请求中提交的修复 [26569](https://github.com/magento/magento2/pull/26569)_. [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* PDF发票现在可在GB区域设置中创建时捕获正确的购买日期。 _由Eden Duong在拉取请求中提交的修复 [26701](https://github.com/magento/magento2/pull/26701)_. [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### 销售规则

<!-- MC-30155-->

* `quote_item.applied_rule_ids` 现在，在禁用购物车价格规则后按预期更新。 [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* 现在，当您尝试创建或编辑购物车价格规则时，应用程序会按预期显示类别树。 以前，在创建或编辑规则时在“条件”部分中选择类别会导致JavaScript错误。

<!-- ENGCOM-6824-->

* 现在，当可配置产品首次添加到购物车时，应用程序可使用购物车价格规则正确计算购物车级别的固定折扣。 _由Lachlan Turner在拉取请求中提交的修复 [26623](https://github.com/magento/magento2/pull/26623)_. [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### 搜索 {#search-heading}

* Elasticsearch7.6.x现在是Adobe Commerce和Magento Open Source的默认目录搜索引擎。 如果不同时安装Elasticsearch7.6.x，则无法安装或升级到版本2.4.0。Elasticsearch版本2.x代码已删除。 Elasticsearch版本5.x和6.x已弃用，不再受支持。 请参阅 [搜索引擎先决条件](../../../installation/prerequisites/search-engine/overview.md).

<!-- MC-23753-->

* 现在，应用程序会呈现 **&lt;** 和 **>** 在storefront目录搜索字符串中正确显示符号。

<!-- MC-25010-->

* 现在，产品在运行后会按预期显示在类别中 `cron:run` 部署实施Elasticsearch。

<!-- MC-25254-->

* 该应用程序不再需要完全搜索重新索引，以便能够在店面上搜索新的产品属性。

<!-- MC-29545-->

* 现在，当您按产品名称的字母顺序对包含捆绑产品的产品列表进行排序时，Elasticsearch会按预期工作。

<!-- MC-29951-->

* 在类别中筛选可配置产品时，筛选结果不再包含无现货选项。

<!-- MC-30131-->

* 现在，使用“Elasticsearch”从产品列表页面中选择所有产品时，会按预期显示搜索结果中的所有产品。 以前，应用程序不显示搜索结果。

<!-- MC-30201-->

* 现在，当您更改每页查看的搜索结果数时，Elasticsearch可以正确显示类别页面的结果。 以前，当您更改搜索结果页面上应显示多少个搜索结果时，应用程序会显示一个空白页面，并且出现以下错误： `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* 现在，对于缺货的可配置产品，价格排序可以正常工作。

<!-- MC-25176-->

* 当客户在多网站部署中使用店面快速搜索时，应用程序不再引发异常。

<!-- ENGCOM-6842-->

* 当商家通过单击页脚上的搜索词选项打开搜索词页面时，应用程序不再显示警告 **营销** > **SEO和搜索** > **搜索词**.  _修复了在拉取请求中由vishal-webkul提交的问题 [25246](https://github.com/magento/magento2/pull/25246)_. [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* 在移动设备视图中运行Safari时，当您单击搜索输入框时，应用程序不再调整视区大小。  _由Pawe Tylek在拉取请求中提交的修复 [27603](https://github.com/magento/magento2/pull/27603). [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Elasticsearch版本现在在管理员(**商店** >设置> **配置** > **目录** > **目录** > **目录搜索**)。 _修复了由Andreas Mautz在拉取请求中提交的问题 [25838](https://github.com/magento/magento2/pull/25838)_. [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### 装运

<!-- MC-32782-->

* 现在，如果订购的某个产品是虚拟产品，则可以将订单发运至多个地址。 以前，应用程序已成功为物理产品下订单，但虚拟产品订单为空。

<!-- MC-29276-->

* 现在，应用产品可以对要发运到多个地址的订单正确应用固定金额、整车折扣。 以前，当客户使用“多地址结帐”结帐下单时，会多次应用此类型的折扣。 [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* 现在，可用于在创建购物车价格规则过程中选择送货方法的下拉列表仅包含有效值。 以前，此下拉列表包含空值或额外值。

<!-- MC-30186-->

* 现在，应用程序将发运标签打印为 `.pdf` 在选择 **打印送货标签** 从“操作”(Action)下拉列表中，按顺序存档列表中的顺序排列。 以前，应用程序显示404错误。

<!-- MC-31396-->

* 现在，当购物车包含的产品来自“免费装运价格”规则所包含的类别，以及来自规则中未包含的类别的产品时，“免费装运价格”规则只会影响相关产品。 以前，当购物车包含来自免费装运类别以及价格规则中未包含的其他类别的产品时，免费装运不适用于任何产品。

<!-- ENGCOM-6436-->

* 应用程序不再显示空白页面，而是在下拉框/多选框中显示所有运输承运人。 以前， `toOptionArray` 函数 `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php` 已发生。 _由Marc Rodriguez在拉取请求中提交的修复 [25315](https://github.com/magento/magento2/pull/25315)_. [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* 当客户创建将发运到多个地址的订单时，应用程序不再多次应用固定金额折扣。  _Mahesh Singh在拉取请求中提交的修复 [26419](https://github.com/magento/magento2/pull/26419)_. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* 插件 `Magento\Ups\Model\Carrier` 实施自定义 `di.xml` 现在可在开发人员模式下正常工作。 以前，应用程序会引发以下错误： `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`. _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26130](https://github.com/magento/magento2/pull/26130)_. [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### Sitemap

<!-- MC-29362-->

* 现在，在您生成站点地图时，应用程序会按照预期使用项目基本URL。

<!-- ENGCOM-6670-->

* 现在，生成的网站映射包含主页的URL。 _修复了由deeppaksnair在拉取请求中提交的问题 [26445](https://github.com/magento/magento2/pull/26445)_. [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### 存储

<!-- MC-25187-->

* 现在，当客户登录到一个商店，将产品添加到购物车，然后在多商店部署中切换到新商店时，客户会话会按预期持续存在。 以前，当客户导航到第二家商店时，应用程序注销客户并清空购物车。

<!-- ENGCOM-4781-->

* 现在，应用程序会从 `sale_sequence_meta` 和 `sales_sequence_profile` 表。 _修复了由Bartomiej Szubert在拉取请求中提交的问题 [22296](https://github.com/magento/magento2/pull/22296)_. [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* 现在，在具有不同基本URL的存储之间切换时，存储切换器可以按预期工作。 以前，当客户使用商店切换器在商店之间切换时，如果目标商店的基本URL与当前商店的基本URL不同，则请求会失败。 _Tobias Nilsson在拉取请求中提交的修复 [26548](https://github.com/magento/magento2/pull/26548)_. [GitHub-23755](https://github.com/magento/magento2/issues/23755), [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### 色板

<!-- MC-30294-->

* 商家现在可以使用 **可视色板** 选项开启 **商店** > **属性** > **产品** > **新属性**. 以前，当您尝试打开新创建的色板属性时，会触发JavaScript错误。

<!-- ENGCOM-6750-->

* 现在，当客户为可配置产品选择新的色板选项时，“最低广告价格”会按预期发生更改。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [26241](https://github.com/magento/magento2/pull/26241)_. [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* 当您选择新的色板选项时，应用程序不再复制可配置产品的“最低广告价格”。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [26317](https://github.com/magento/magento2/pull/26317)_. [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* 更正了“新产品属性”页面的“管理色板（属性值）”区域中下拉菜单的行为问题。  _由Oleh Usik在拉取请求中提交的修复 [26090](https://github.com/magento/magento2/pull/26090)_. [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### TargetRule

<!-- MC-31546-->

* 在店面上为产品显示的相关产品块现在会显示符合相关产品规则中定义标准的产品。 以前，应用程序不显示任何相关产品。

### 税

<!-- MC-29579-->

* 现在，当客户在结帐期间更改订单的目的地国家/地区时，应用程序会按预期更新发运费率和价格。

<!-- MC-30546-->

* 现在，可根据适用的购物车价格规则，按预期应用免费送货。 以前，购物车价格规则在计算订单是否符合免运费标准时不考虑税。

### 测试

>[!NOTE]
>
>**MFTF现在使用Google Authenticator在启用2FA的情况下执行测试。 如果没有启用Google Authenticator的其他配置步骤，MFTF将无法与2.4.0一起使用**. 请参阅  [配置MFTF进行双因素认证(2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html#magento-functional-testing-framework).

<!-- ENGCOM-6585-->

* 测试和操作组中的硬编码URL已被页面引用替换。 _Lukasz Bajsarowicz在专用存储库合作伙伴 — magento2ee的拉取请求117中提交的修复_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* 测试现在涵盖记录与CMS页面相关的管理操作的任务。 _Lukasz Bajsarowicz在专用存储库合作伙伴 — magento2ee的拉取请求172中提交的修复_. [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* 已修订无效的功能测试名称，以遵循最佳实践。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [27118](https://github.com/magento/magento2/pull/27118) 和在专用存储库合作伙伴 — magento2ee中提取请求151。 [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* Magento Open Source `cron` 现在用于在创建测试数据后重新索引，如果适用， `cache:flush config` 替换 `cache:flush`. _Lukasz Bajsarowicz在拉取请求中提交的修复 [26990](https://github.com/magento/magento2/pull/26990)_. [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* 验收测试现在遵循的命名惯例 `Magento/Indexer` 和 `Magento/Backup` 模块。  _由Shankar Konar在拉取请求中提交的修复 [27515](https://github.com/magento/magento2/pull/27515)_. [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* 的 `AdminReorderWithCatalogPrice` 测试已重构，在CI验证过程中不再失败。 _Lukasz Bajsarowicz在专用存储库合作伙伴 — magento2ee的拉取请求135中提交的修复_. [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* 的 `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct` 和 `StorefrontApplyPromoCodeDuringCheckout` 测试已重构，在CI验证过程中不再失败。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [26611](https://github.com/magento/magento2/pull/26611) 和拉取请求 [26614](https://github.com/magento/magento2/pull/26614)_. [GitHub-26612](https://github.com/magento/magento2/issues/26612), [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* 的 `DeleteProduct and DeleteCustomer Action Groups` 在CI验证过程中，测试已重构且不再失败。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [26407](https://github.com/magento/magento2/pull/26407)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* 的 `AdminMoveAnchoredCategoryTest.xml` 在CI验证过程中，测试已重构且不再失败。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [26395](https://github.com/magento/magento2/pull/26395)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### 集成测试

<!-- ENGCOM-7143-->

* 集成测试中的连续请求不再失败。 以前，测试失败，因为请求对象在调度之间共享。 的 `resetRequest` 方法现在清空 `request`. _Lukasz Bajsarowicz在拉取请求中提交的修复 [27300](https://github.com/magento/magento2/pull/27300)_. [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* 为覆盖 `Magento_Customer` 电子邮件功能。 _Lukasz Bajsarowicz在拉取请求中提交的修复 [27606](https://github.com/magento/magento2/pull/27606)_. [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### PHP单元测试

<!-- ENGCOM-7435 7306-->

* PHP单元测试不再引发此致命错误： `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`. _由Lukasz Bajsarowicz在专用存储库合作伙伴 — magento2ee和 [27701](https://github.com/magento/magento2/pull/27701)_. [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* 测试 `Offline_Payments` 现在与PHPUnit 8兼容。  _由Cristiano Pacheco在拉取请求中提交的修复 [27627](https://github.com/magento/magento2/pull/27627)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* 的单元测试 `Framework`, `AdminAnalytics`, `AdminNotification`和 `AMPQ` 已为PHPUnit 8更新。 _修复了Ihor Sviziev在拉取请求中提交的问题 [27522](https://github.com/magento/magento2/pull/27522), [27521](https://github.com/magento/magento2/pull/27521), [27519](https://github.com/magento/magento2/pull/27519), [27522](https://github.com/magento/magento2/pull/27522)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* 您现在可以运行 `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` 未连接到互联网的单元测试。  _由aleromano89在拉取请求中提交的修复 [26264](https://github.com/magento/magento2/pull/26264)_. [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* 添加了 `app/code/Magento/Fedex/Model/Source/Generic.php`. _修复了由Sathish Subramanian在拉取请求中提交的问题 [26549](https://github.com/magento/magento2/pull/26549)_.

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` 已添加到多个测试中，这会触发部分重新索引。 这项更改解决了在涵盖的功能测试中产生漏报的问题 `Magento_Bundle`, `CatalogImportExport`, `CatalogInventory`, `CatalogRule`, `Backend`, `Braintree`和 `Captcha`. _修复了Lukasz Bajsarowicz在拉取请求中提交的问题 [27322](https://github.com/magento/magento2/pull/27322), [27323](https://github.com/magento/magento2/pull/27323), [27321](https://github.com/magento/magento2/pull/27321)_. [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* 的所有用法都不正确 `<amOnPage>` 已更换为 `<actionGroup>` ，以在测试中适用时注销。 _Lukasz Bajsarowicz在专用存储库合作伙伴 — magento2ee的拉取请求116中提交的修复_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* 测试中的每个操作组都已移动到单独的文件中，以遵循MFTF最佳实践，并且修改了不一致的文件名。 以下模块的测试已受到影响：

   * module-catalog-permissions
   * module-shared-catalog
   * module-catalog-event
   * 模块横幅
   * module-admin-gws
   * module-advanced-checkout
   * 模块装运
   * module-ui
   * 模块装运
   * module-checkout-address-search
   * 模块销售
   * module-catalog
   * module-catalog-rule-staging
   * module-visual-tactler
   * module-customer

   _修复了Lukasz Bajsarowicz在拉取请求中提交的问题 [25800](https://github.com/magento/magento2/pull/25800), [26323](https://github.com/magento/magento2/pull/26323), [26321](https://github.com/magento/magento2/pull/26321), [26320](https://github.com/magento/magento2/pull/26320), [26319](https://github.com/magento/magento2/pull/26319), [26322](https://github.com/magento/magento2/pull/26322), [25828](https://github.com/magento/magento2/pull/25828), [26329](https://github.com/magento/magento2/pull/26329) （和在专用存储库合作伙伴 — magento2ee中提取请求104、105、106、107、108、109、111、119、120、121）_. [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### 主题

<!-- MC-29804-->

* 我们解决了 `JsFooterPlugin.php` 会影响动态块的显示。 以前，应用程序在您直接访问时显示此错误 `/banner/ajax/load/url`: `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`.

<!-- ENGCOM-6708-->

* 的 `i18n` 方法提供向下划线模板添加字符串的功能。  _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [26435](https://github.com/magento/magento2/pull/26435)_. [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* 的 `section-config` 模块已重构。 此重构减少了由第三方模块在初始化模块之前直接发出POST请求或请求客户数据而导致的错误 `data-mage-init`. _由Mateusz Krzeszowiak在拉取请求中提交的修复 [25764](https://github.com/magento/magento2/pull/25764)_. [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* `LoadCssAsync` HTML格式错误已修复。 _修复了由Sathish Subramanian在拉取请求中提交的问题 [26764](https://github.com/magento/magento2/pull/26764)_. [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* 创建 `default.xml` 和 `catalog_product_view.xml` 文件作为创建新主题的一部分，应用程序会按预期创建这些页面或在日志文件中记录错误。 以前，应用程序在 `vendor/magento/framework/View/Page/Config/Renderer.php` 文件。 _由Vinh Le在拉取请求中提交的修复 [27026](https://github.com/magento/magento2/pull/27026)_. [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### 翻译和区域设置

<!-- MC-24186-->

* 现在，内联翻译在店面中可按预期工作， **管理员** > **商店** > **配置** > **高级** > **开发人员** > **内联翻译** > **为Storefront启用** 设置。

<!-- MC-31663-->

* 现在，在为店面启用内联翻译后，可以按预期进行翻译。

<!-- ENGCOM-7064-->

* 产品URL密钥现在按预期音译。 _由DanieliMi在拉取请求中提交的修复 [26506](https://github.com/magento/magento2/pull/26506)_. [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* 的 `es_US Spanish (United States)` 现在支持区域设置。 _由Vinh Le在拉取请求中提交的修复 [26857](https://github.com/magento/magento2/pull/26857)_. [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* 数字占位符计数和JavaScript代码占位符计数现在相同。 以前，JavaScript代码假定为0%，而数值占位符计数以%1开头。  _由korostii在拉取请求中提交的修复 [25359](https://github.com/magento/magento2/pull/25359)_. [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* 您现在可以禁用“产品详细信息”页面页面标题的翻译(`page.main.title`)，默认情况下处于启用状态。 _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26269](https://github.com/magento/magento2/pull/26269)_. [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* 已解决发票PDF中呈现阿拉伯语和希伯来语的问题。 _修复了Ihor Sviziev在拉取请求中提交的问题 [27887](https://github.com/magento/magento2/pull/27887)_. [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* 现在，按照预期和文档中的描述，语言包继承顺序将按列出的首次使用基准进行应用。  _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [26420](https://github.com/magento/magento2/pull/26420)_. [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* 现在，当您在区域设置中为文件夹名称输入非拉丁字符时，应用程序会显示此错误消息： `Please rename the folder using only Latin letters, numbers, underscores and dashes`. _由Eden Duong在拉取请求中提交的修复 [25904](https://github.com/magento/magento2/pull/25904). [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* 长度 `locale` 列 `directory_country_region_name` 已从8增加到16以支持语言环境，例如  `zh_Hans_CN`. _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26268](https://github.com/magento/magento2/pull/26268)_. [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### UI

<!-- ENGCOM-7490-->

* “返回”按钮现在可以按预期从 **管理员** > **商店** > **订单状态** > **编辑订单状态**. _修复了Vadim Malesh在拉取请求中提交的问题 [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* 使用箭头键在 **文件名** 字段。 _修复了由Adarsh Manickam在拉取请求中提交的问题 [25991](https://github.com/magento/magento2/pull/25991)_. [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* 的 **您的密码**  的“当前用户身份验证”部分 **管理员** > **系统** > **集成** 页面现在会按预期继承样式。 _由Eduard Chitoraga在拉取请求中提交的修复 [25918](https://github.com/magento/magento2/pull/25918)_. [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* 由店面上的JavaScript验证器验证的输入也将通过管理员的验证。 以前，JavScript验证器在店面上将新行计为单个字符，但在服务器端， `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` 将换行计为两个字符。 _修复了Grzegorz Bogusz在拉取请求中提交的问题 [26033](https://github.com/magento/magento2/pull/26033)_. [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* 的 `subTitle` 当您使用 `setTitle()` 呼叫。 以前，当您尝试创建带有标题和子标题的弹出窗口或自定义模式时，会使用 `setTitle()` 方法， `subTitle` 被删除。 _修复了由Andrea Parmeggiani在拉取请求中提交的问题 [26142](https://github.com/magento/magento2/pull/26142)_. [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* 现在，“管理员营销”选项卡中的子菜单可根据预期自动调整菜单项的长度。  您现在还可以水平滚动。  _由Paweł Tylek在拉取请求中提交的修复 [26034](https://github.com/magento/magento2/pull/26034)_. [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* 表格 `quote`  列 `customer_note` 现在使用类型 `text` 如预期。 以前，它使用的是类型 `varchar(255)`. _由Ravi Chandra在拉取请求中提交的修复 [26160](https://github.com/magento/magento2/pull/26160)_. [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* 更正了 **我的帐户**  > **通讯簿**  地址条目表。  _由Abrar Pathan在拉取请求中提交的修复 [27336](https://github.com/magento/magento2/pull/27336)_. [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* 现在，分层导航价格步骤中使用的货币符号基于预期的默认设置。  _修复了由Bartomiej Szubert在拉取请求中提交的问题 [24815](https://github.com/magento/magento2/pull/24815)_. [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* 白俄罗斯货币(BYR)的符号已更新为BYN。 _修复了由Bartomiej Szubert在拉取请求中提交的问题 [25723](https://github.com/magento/magento2/pull/25723)_. [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* 现在，在分辨率小于767像素的显示屏上，“目录”页面的“比较产品”部分会按预期显示。 _修复了拉取请求中由Hitesh提交的问题 [26418](https://github.com/magento/magento2/pull/26418)_. [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* 现在，在移动设备视图中，可以按预期方式滚动产品页面。  _由Mateusz Krzeszowiak在拉取请求中提交的修复 [25385](https://github.com/magento/magento2/pull/25385)_. [GitHub-10518](https://github.com/magento/magento2/issues/10518), [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* 您现在可以按预期在移动设备视图中滚动浏览产品页面上的画廊缩略图。 _由Gerchak在拉取请求中提交的修复 [25839](https://github.com/magento/magento2/pull/25839)_. [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* 点击主题标题 **管理员**  > **内容** > **主题** 不再产生重复记录。 _由Eden Duong在拉取请求中提交的修复 [25926](https://github.com/magento/magento2/pull/25926)_. [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* 为符合管理员表单显示惯例，已对“管理员帐单地址/送货地址”页面的布局进行了重构。 _由Alexey Rakitin在拉取请求中提交的修复 [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-23481](https://github.com/magento/magento2/issues/23481), [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* 现在，产品详细信息页面上的添加到比较链接在分辨率低于640px的移动设备视图上可正确呈现。 _由Pawe Tylek在拉取请求中提交的修复 [26424](https://github.com/magento/magento2/pull/26424) 和特贾什·昆巴雷在拉车请求中 [26365](https://github.com/magento/magento2/pull/26365)_. [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* 的 **排序依据** 标签不再与 **购物者** 按钮。 _由Andrii Kartavtsev在拉取请求中提交的修复 [26381](https://github.com/magento/magento2/pull/26381)_. [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* 您现在可以通过启用  **使用默认** 复选框。 _修复由Abel Truong在拉取请求中提交 [27295](https://github.com/magento/magento2/pull/27295)_. [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* 更正了 **更新** 按钮和 **数量** 字段。  _修复了拉取请求中由Hitesh提交的问题 [26234](https://github.com/magento/magento2/pull/26234)_. [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* “通讯簿”页面上“其他地址条目”表的下边框颜色现在与 `thead` 和 `tbody` 边框颜色。 _修复了由Tejash Kumbhare在拉取请求中提交的问题 [26649](https://github.com/magento/magento2/pull/26649)_. [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* 当用户单击模态叠加图时，提示模型不再执行确认操作。 _修复了Serhiy Zhovnir在拉取请求中提交的问题 [27399](https://github.com/magento/magento2/pull/27399)_.

### URL

<!-- ENGCOM-7112-->

* 类别存储库（保存方法）已重构，以前在更改类别URL键时阻止您创建唯一路径。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27304](https://github.com/magento/magento2/pull/27304)_. [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* 类别URL键逻辑的验证已得到改进。 _由Sergiy Vasiutynskyi在拉取请求中提交的修复 [27412](https://github.com/magento/magento2/pull/27412)_. [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### URL重写

<!-- MC-31147-->

* 现在，在CMS页面上更改语言的客户可以成功导航到他们选择的存储视图。 以前，应用程序显示404错误。

<!-- ENGCOM-6997-->

* 现在，可以为已为其启用类别路径包含的产品URL生成URL重写操作可按预期工作。 以前，在具有多个商店视图的部署中，应用程序有时会使用类别url路径的默认值（而不是特定于商店视图的URL路径）生成错误的URL重写。 _由Pieter Hoste在拉取请求中提交的修复 [26784](https://github.com/magento/magento2/pull/26784)_. [GitHub-25124](https://github.com/magento/magento2/issues/25124), [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* 如果请求路径与目标路径相同，我们已添加检查以阻止URL重定向。 _修复了由Bartomiej Szubert在拉取请求中提交的问题 [26902](https://github.com/magento/magento2/pull/26902)_. [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* 当URL具有尾随斜杠时，URL重写操作不再从URL中删除查询字符串。  _由Alexey Arendarenko在拉取请求中提交的修复 [25603](https://github.com/magento/magento2/pull/25603)_. [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### 增值税

<!-- ENGCOM-7458-->

* 更正了 [欧盟增值税号](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl).  _Shikha Mishra在拉取请求中提交的修复 [27886](https://github.com/magento/magento2/pull/27886)_. [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### Web API框架

<!-- MC-29891-->

* 更正了POST问题 `/rest/default/async/bulk/V1/orders` 调用。

<!-- MC-30675-->

* 更正了POST问题 `/rest/default/async/bulk/V1/products` 调用。

<!-- ENGCOM-6945-->

* 的 `getList` 方法已重构以检索 `is_subscribed` 扩展属性。 以前，在通过API获取客户实体时，无法检索此属性。 _修复了由enriquei4在拉取请求中提交的问题 [25311](https://github.com/magento/magento2/pull/25311)_. [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* 通过更新客户信息 `/V1/customers/:id` 不再重置 `group_id` 不必要的。 以前，当您通过REST更新客户时，如果正文中不包含客户组，则客户组将更改为1。 _由MaxRomanov4669在拉取请求中提交的修复 [25958](https://github.com/magento/magento2/pull/25958)_. [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* 在Web API中使用服务合同中可为空的getter时，不再引发反射错误。 现在，无论顺序如何，可返回null且有效类型的方法也可以正常工作。  _由Marco Pcke在拉取请k̦求中提交的修复 [25806](https://github.com/magento/magento2/pull/25806)_. [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* 您现在可以使用POST `/V1/guest-carts/:cartId/items` 将产品添加到特定购物车。 以前，当您使用此调用时，应用程序会忽略 `cartId`. _修复了Vadim Malesh在拉取请求中提交的问题 [27172](https://github.com/magento/magento2/pull/27172)_. [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* 您现在可以使用 `PUT /V1/cmsPage/:id` 端点来保存CMS页面标题，而不更改其他字段的值。 _修复了Vadim Malesh在拉取请求中提交的问题 [27237](https://github.com/magento/magento2/pull/27237)_. [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* 现在，对REST请求中的结果进行分页是准确的。 以前，当您请求从特定页面获取结果时(例如， `page_size` = 1和a `current_page` 值超出范围时)，调用会重复结果的最后一页，而不是显示一则信息性消息。  _Lukasz Bajsarowicz在拉取请求中提交的修复 [26988](https://github.com/magento/magento2/pull/26988)_. [GitHub-26986](https://github.com/magento/magento2/issues/26986), [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* GET结果 `/V1/orders/items/{id}` 现在包含一个扩展属性元素，该元素包含礼品消息数据。 _修复了由Laura Folco在拉取请求中提交的问题 [25946](https://github.com/magento/magento2/pull/25946)_. [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### 愿望清单

<!-- MC-29988-->

* 现在，当在存储视图级别启用并在全局级别禁用愿望列表时，它可以按预期工作。 以前，在设置好这些设置后，将产品添加到愿望列表会导致404错误。

<!-- ENGCOM-6518-->

* 我们改进了当客户尝试使用超出允许数量的电子邮件地址共享其愿望列表时显示的错误消息。  _由divyajothi5321在拉取请求中提交的修复 [26066](https://github.com/magento/magento2/pull/26066)_. [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* 现在，该应用程序按预期显示“我的愿望列表”页面，其分辨率大于768像素，小于1023像素。 _修复了拉取请求中由Hitesh提交的问题 [26546](https://github.com/magento/magento2/pull/26546)_. [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* 单击时生成的电子邮件 **共享愿望列表** 现在显示与Wishlist页面相同的产品图像。 _修复了Michael Bottens在拉取请求中提交的问题 [27125](https://github.com/magento/magento2/pull/27125). [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* 客户现在可以将一个简单产品添加到愿望清单中，该产品是分组产品的一部分，而同一个简单产品则具有不同数量。  _由MaxRomanov4669在拉取请求中提交的修复 [26258](https://github.com/magento/magento2/pull/26258)_. [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### 怀西威格

<!-- ENGCOM-6275-->

* WYSIWYG图像上载程序现在使用 `pub/media/wysiwyg` 作为存储根。 以前，使用 `pub/media` 作为其存储根目录，这会在最近更改了image uploader代码后，导致无法访问这些上传的映像。 _由Pieter Hoste在拉取请求中提交的修复 [24878](https://github.com/magento/magento2/pull/24878)_. [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* Chrome浏览器上的TinyMCE4现在可以按预期处理双字节字符。 以前，TinyMCE4无法在Chrome上正确处理双字节字符（如中文使用）。 _由西博和在拉取请求中提交的修复 [25454](https://github.com/magento/magento2/pull/25454)_. [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## 已知问题 — 常规

**问题**:在安装了PHP 7.4.2的部署中，会出现店面错误消息异常。 使用PHP 7.4.2部署2.4.0时，店面错误消息中的空间符号将替换为加号(+)字符。  此错误是PHP 7.4.2的本机错误，无法通过Magento Open Source更正。 **解决方法**:我们建议使用其他版本的PHP 7.4.x。请参阅 [在店面上显示原始消息数据](https://support.magento.com/hc/en-us/articles/360045804332)  知识库文章。 <!-- MC-34170-->

**问题**:商户无法从“管理员创建包”页面将已订购的产品添加到包中并保存包。 请参阅 [发货标签创建](https://support.magento.com/hc/en-us/articles/360046750171) 知识库文章。 的 **MC-35514-2.4.0-CE-composer.patch** 此问题的修补程序现在可从 [版本](https://magento.com/tech-resources/download). <!-- MC-35514-->

**问题**:在使用依赖于的API的第三方扩展进行安装期间，应用程序会显示此错误消息 `Store` 模块： `The default website isn't defined. Set the website and try again`. **解决方法**:从编辑器中删除对第三方扩展的依赖项，安装Magento，然后安装第三方扩展。

**问题**:的 **将选择添加到购物车** 按钮不起作用。 **解决方法**:使用 **将选择添加到购物车** 按钮。 请参阅 [将选择添加到购物车按钮不起作用](https://support.magento.com/hc/en-us/articles/360045838312) 知识库文章。 <!-- MC-35313-->

**问题**:商家无法从管理员创建新订单，因为 **按SKU添加产品** 和 **添加产品**  启用JavaScript捆绑后，订单创建页面中缺少按钮。  **解决方法**:禁用部署的JavaScript捆绑。 <!-- MC-36044-->

**问题**:应用程序a `404 not found` 当客户在签出要发运到多个地址的订单时尝试删除奖励点时出错。 <!-- MC-35955-->

**问题**:根据客户的愿望列表编辑可配置产品会导致以下意外行为：“配置产品”页面上会出现意外字段，单击后“配置产品”页面不会消失 **确定**. 应用程序还会显示以下消息： `Please load Wish List item`. **解决方法**:重新加载配置产品页面。 <!-- MC-35617-->

**问题**:当“订单”列表跨多个页面时，客户无法更改每页显示的订单数。 目前，当您导航到订单的最后一页并尝试更改每页显示的订单数时，应用程序会显示此消息： `You have placed no orders`. 请参阅 [订单显示错误](https://support.magento.com/hc/en-us/articles/360046802271) 知识库文章。  **解决方法**:重新打开“我的订单”页将显示“订单”列表。 <!-- MC-34153-->

**问题**:直接单击 **出口税率** “添加新税则”页(**商店** > **税则**)不会下载 `tax_rates.csv` 文件。 **解决方法**:单击  **出口税率** 按钮。  请参阅 [出口税率不起作用](https://support.magento.com/hc/en-us/articles/360045850032)  知识库文章。 <!-- MC-35345-->

**问题**:的 **刷新** “管理员客户活动”页面的“上次订购的项目”、“比较中的产品”列表和“最近比较的产品”部分上的按钮无法按预期工作。 目前，应用程序每次在 **刷新** 按钮，且不显示产品名称。 请参阅 [无法在客户活动上刷新](https://magento.zendesk.com/hc/en-us/articles/360046091332) 知识库文章。 <!-- MC-35296-->

## 已知问题 — VBE

### Amazon Pay

* **问题**:客户单击后，结账工作流中缺少付款方法 **返回标准结账** 结帐时，Amazon Pay。 **解决方法**:刷新结帐页面以显示缺少的方法。  <!-- BUNDLE-2661-->

* **问题**:应用产品在“付款方法”下拉列表中显示两种相同的Amazon付款方法，在创建新购物车价格规则时可用。  <!-- BUNDLE-2685-->

### Braintree

* **问题**:当管理员尝试访问“Braintree结算报表”页(**管理员** > **报表** )。 当前，应用程序会显示以下消息： `An error has happened during application run. See exception log for details`. 请参阅 [Braintree结算报表加载失败](https://support.magento.com/hc/en-us/articles/360046798251) 知识库文章。 的 **BUNDLE-2683_SettlementReport.patch** 此问题的修补程序现在可从 [版本](https://magento.com/tech-resources/download). <!-- BUNDLE-2683-->

* **问题**:在启用了Venmo且 **为卡支付启用保险库** 设置处于禁用状态。 当前，应用程序显示以下错误： `The "vault_capture" command doesn't exist. Verify the command and try again`.  <!-- BUNDLE-2647-->

* **问题**:应用产品在“付款方法”下拉列表中显示两种相同的PayPal方法，在创建新购物车价格规则时，该列表将可用。   <!-- BUNDLE-2686-->

* **问题**:应用程序打开时出错 **销售** > **Braintree虚拟终端**. 尽管表单包含损坏的UI元素，但仍接受付款。 **解决方法**:保存正确的Braintree凭据，这将修复折叠的输入字段。 请参阅 [Braintree“虚拟终端”页面已损坏](https://support.magento.com/hc/en-us/articles/360046800071)  知识库文章。 的 **BUNDLE-2670_VirtualTerminal.patch** 此问题的修补程序现在可从 [版本](https://magento.com/tech-resources/download). <!-- BUNDLE-2670-->

* **问题**:当客户在结帐期间选择本地付款方法时，应用产品会在以下国家/地区显示一条错误消息：比利时、荷兰、意大利、西班牙和波兰。  **解决方法**:忽略错误消息并继续付款。

### 克拉纳

* **问题**:离开 **设计主题** Klarna现场消息传送中的字段为空(**管理员**  >  **商店**  >  **配置**  > **克拉纳设置**)会生成空白页面。  **解决方法**:选择设计主题并保存。  <!-- BUNDLE-2623-->

### 顶点

* **问题**:应用程序显示  **地址验证** 按钮，即使地址验证处于禁用状态。 地址验证器不会重新检查更新的地址，并继续显示一条消息，指示当客户在首次输入错误地址后输入正确地址时，该地址无效，即使当地址验证被启用时也是如此。 **解决方法**:禁用顶点地址验证。 <!-- BUNDLE-2604-->

## 社区贡献

我们感谢更广泛的Magento Open Source群体，并感谢他们对本稿的贡献。 请通过以下方式了解社区对当前版本的贡献：

* 如果社区成员已对此版本提供了修复，我们将在这些说明的“已修复问题”部分中标识该修复，并使用短语“*社区成员提供的修复@member_name*&quot;

* 社区工程团队 [Magento参与者](https://magento.com/magento-contributors) 按月、季度和年维护排名最前的参与个人和合作伙伴列表。 在该“参与者”页面中，您可以在GitHub上跟踪指向其合并PR的链接。

### 合作伙伴贡献

下表重点介绍了合作伙伴的贡献。 此表列出了提供拉取请求、外部拉取请求以及与其关联的GitHub问题编号（如果可用）的合作伙伴。

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### 个人参与者贡献内容

下表列出了社区成员的贡献内容。 此表列出了外部拉取请求、与其关联的GitHub问题编号（如果可用），以及贡献拉取请求的社区成员。

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### 系统要求

我们的技术堆栈构建在PHP和MySQL上。 有关更多信息，请参阅 [系统要求](../../../installation/system-requirements.md).

### 安装和升级说明

您可以使用编辑器安装Magento Open Source2.4.0。

## 迁移工具包

数据迁移工具可帮助将现有Magento1.x存储数据传输到Magento2.x。此命令行界面包括验证、进度跟踪、日志记录和测试功能。 有关安装说明，请参阅 [安装数据迁移工具](../../../tools/data-migration-tool/install.md). 考虑探索或为 [数据迁移存储库](https://github.com/magento/data-migration-tool).

的 [代码迁移工具包](https://github.com/magento/code-migration) 帮助将现有Magento1.x存储扩展和自定义项传输到Magento2.x。命令行界面包含用于转换Magento1.x模块和布局的脚本。
