---
title: Adobe Commerce 2.4.6发行说明
description: 了解2.4.6 Adobe Commerce版本中的新增功能、增强功能、错误修复和已知问题。
hide: true
hidefromtoc: true
source-git-commit: c0615e466ee5301f43116780ee83180b6d99039e
workflow-type: tm+mt
source-wordcount: '9659'
ht-degree: 0%

---


# Adobe Commerce 2.4.6发行说明

>[!NOTE]
>
>为测试版版本提供的发行说明不完整，可能会因GA而发生更改。

Adobe Commerce 2.4.6引入了对PHP 8.2的支持。PHP 8.1仍完全受支持，但已删除对PHP 7.4的支持。 它包括显着的性能和可扩展性增强。 GraphQL批量购物车操作和类别树渲染响应操作已得到优化。

此版本包括300多项质量修复和增强功能。 核心编辑器依赖项和第三方库已升级到与PHP 8.2兼容的最新版本。

{{bics}}

## 其他发行信息

尽管这些功能的代码与每季度发布的Adobe Commerce核心代码捆绑在一起，但其中一些项目(例如，B2B、Page Builder和Progressive Web Application(PWA)Studio)也是独立发布的。 这些项目的错误修复会在特定于项目的单独发行信息中进行记录，该信息可在每个项目的文档中找到。

## 2.4.6-beta1测试环境

Adobe Commerce 2.4.6-beta1已针对以下组件版本进行了测试：

* 编辑器2.2
* Elasticsearch7.17/8.4
* 打开搜索2.4
* MariaDB 10.6
* MySQL 8.0
* 8.1菲律宾比索
* RabbitMQ 3.9
* 雷迪斯7.0
* 清漆7.1.1

## Adobe Commerce 2.4.6亮点

在此版本中查找以下亮点。

### 安全性增强

此版本包括八项安全修复和平台安全改进。 这些安全修复已支持到Adobe Commerce 2.4.5-p2和Adobe Commerce 2.4.4-p3。

迄今为止，尚未发生与这些问题相关的已确认攻击。 但是，某些漏洞可能会被利用来访问客户信息或接管管理员会话。 大多数这些问题要求攻击者首先获得对管理员的访问权限。 因此，我们提醒您采取一切必要步骤保护您的管理员，包括但不限于以下工作：

* IP
* [双重身份验证](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* 使用VPN
* 使用唯一位置，而不是 `/admin`
* 密码卫生良好

请参阅Adobe安全公告，了解这些已修复问题的最新讨论。

#### 其他安全增强功能

此版本的安全改进提高了对最新安全最佳实践的合规性，包括：

* 通过对网格视图、批量操作和导出中的操作进行更具体的审核，解决了管理操作日志中的差距。  <!-- AC-1553 -->

* 在付款处理期间发生意外错误时，reCAPTCHA验证不再在结账期间失败。 [GitHub-35093](https://github.com/magento/magento2/issues/35093) <!-- AC-2642 -->

### 平台增强功能

PHP 8.1仍完全受支持。 Adobe Commerce 2.4.6 GA将包含对PHP 8.2的支持。但是，发布PHP 8.2的延迟阻止了我们在此测试版中包含对PHP 8.2的支持。 <!-- AC-6598 -->

此版本中移除了对PHP 7.4的支持。 不能在PHP 7.4上运行Adobe Commerce。

Adobe Commerce 2.4.6-beta1现在支持：

* 编辑器2.2.x <!-- AC-2839 -->

* Redis 7.0.x。尽管与Redis 6.2的兼容性仍然保持不变，但我们建议将此版本与Redis 7.0.x一起部署，因为Redis 6.2的生命周期将于2024年4月终止。 <!-- AC-6606 -->

* 现在支持将OpenSearch作为Adobe Commerce本地部署和云部署的默认搜索引擎。 它支持作为独立的搜索引擎进行Magento Open Source。 此版本支持OpenSearch v2.x，并且已通过OpenSearch 2.4测试。尽管与OpenSearch 1.x的兼容性仍然保持不变，但我们建议将此版本与OpenSearch 2.x结合使用。您可以在云和内部部署上安装并运行带有OpenSearch 2.x的Adobe Commerce和Magento Open Source2.4.6 [搜索引擎先决条件](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/prerequisites/search-engine/overview.html). <!-- AC-449 3555 -->

* Elasticsearch8.x <!-- AC-6597 -->

* MariaDB 10.6（LTS版本）。 此版本仍与MariaDB 10.4兼容，但我们建议升级到MariaDB 10.6。 <!-- AC-6921 -->



#### 其他升级和更换

* DHL架构已从v6.2迁移到v10.0。 <!-- AC-3023-->

* 已将过时的JavaScript库更新至其最新版本，并删除了过时的依赖项。 这些更改向后兼容。 <!-- AC-2036-->

* 已从商务代码库中删除了PHP 7.4兼容性。  <!-- AC-2841-->

* Symfony依赖项已升级到新的LTS版本。 依赖项包括：<!-- AC-2656-->

   * `friendsofphp/php-cs-fixer`
   * `symfony/console`
   * `symfony/event-dispatcher`
   * `symfony/finder`
   * `symfony/process`
   * `web-token/jwt-framework`

* `jquery-migrate` 已从商务代码库中删除。 [GitHub-21406](https://github.com/magento/magento2/issues/21406) <!-- AC-1199 -->

* 已升级 `jQuery/fileUpload`库到v10.32  <!-- AC-2658-->

* Zend框架(ZF1)组件已从代码库中移除，该组件已达到生命周期终止。 请参阅 [不兼容的后向更改突出显示](https://developer-stage.adobe.com/commerce/php/development/backward-incompatible-changes/highlights/).<!-- AC-1512 -->

* 已更新层粘贴依赖项以支持PHP 8.2。 <!-- AC-7019-->

* 已升级 `web-token/jwt-framework` 到v3.0.5。  （最新版本） <!-- AC-3772-->

* 已升级 `allure-framework/allure-phpunit` 到v2.x。 <!-- AC-2660-->

* 已升级 `Chart-js` 库到v3.9.1  <!-- AC-2661-->


### 性能和可扩展性增强

* **改进了影响许多客户区段的操作的性能**. 通过启用新的配置设置，商家可以提高涉及100多个客户区段的操作的性能。 的 **实时检查客户是否与区段匹配** 可以根据需要禁用设置，以通过减少每个客户区段针对客户的验证来缩短处理时间。 请参阅 [客户区段验证](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/configuration.html#customer-segments-validation). <!-- AC-6832 ACPT-835-->

* **用于限制产品网格中显示的产品数量的新系统配置设置**. 商户可以使用 **网格中的产品数量限制** 配置设置，以提高产品网格性能。 默认情况下，此限制配置为20000，仅影响UI组件使用的产品收藏集。 限制显示的产品数量可以提高网格中200,000多种产品的操作性能。 请参阅 [网格中的产品数量限制](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/configuration.html#limit-number-of-products-in-grid)<!-- ACPT-42 -->

* **改进了导入性能（每分钟最多100,000条记录）**. 商户可以使用 `POST /rest/<store_view_code>/V1/import/csv` 将数据导入Adobe Commerce的REST API端点。 此端点提供的功能与管理员导入功能相同，并且支持使用CSV文件创建、更新和删除产品、产品定价和客户实体。  <!-- ACPT-6 -->

* **通过负载平衡提高了高吞吐量订单处理性能**. Adobe Commerce 2.4.6云基础架构客户的同时订单量较高（每分钟1000个订单），现在可以通过跨不同节点平衡其数据库中的负载来提高订单处理性能。  商户可以通过启用MySQL数据库和Redis实例的辅助连接来重新平衡此负载。 请参阅 [高吞吐量订单处理](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/high-throughput-order-processing.html#load-balancing) <!-- ACPT-495 -->


### 辅助功能更新

此版本的重点一直是在Venia(PWA)上创建一个更可感知、可操作、可理解且强大的店面体验。 这些增强功能包括：

<!-- AC-2479-->

* 的可视文本标签 **[!UICONTROL Sign in]** 按钮现在与其可访问的名称匹配。 （最佳实践建议UI元素的可访问名称以可见的标签文本开头。）

<!-- AC-2481 2492-->

* 整个店面的按钮中都添加了可访问的描述性名称。

<!-- AC-2488-->

* 在 **[!UICONTROL Has Video]** 复选框。

<!-- AC-2787-->

* 现在，仅键盘用户可以访问店面上的所有页面功能。 以前，购物者只能使用击键访问子导航链接。


### Adobe Commerce与Adobe IMS集成

以下Adobe IMS模块已与Adobe Commerce 2.4.6核心代码分离，现在打包为单独的元包：

* `adobe-ims`
* `adobe-ims-api`
* `admin-adobe-ims`

新 `adobe-ims-metapackage` v2.2.0与Adobe Commerce 2.4.6捆绑在一起。此版本中没有任何功能更改。<!-- CABPI-505-->


### B2B

“公司的采购订单”功能现在由GraphQL API完全公开。 此版本引入了两个GraphQL模式：

* 采购订单GraphQL架构涵盖B2B公司用户采购订单管理功能，如创建、编辑和删除PO。
* 采购订单规则GraphQL架构涵盖采购订单批准规则功能，如添加批准规则。 根据公司角色和权限，公司用户可以创建、编辑、删除或查看批准规则。

此版本包括多个错误修复。 本主题中包含B2B测试版发行说明。 您将能够在 [B2B发行说明](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).


### Braintree


<!-- BUNDLE-3107-->

* 的 **[!UICONTROL Pay Later]** 意大利和西班牙的按钮和横幅（消息）已启用Braintree。

<!-- BUNDLE-3109-->

* PayPal Vault的PayLater消息已启用。

<!-- BUNDLE-3140-->

* 添加了欺诈保护和ACH Web挂接。 在Braintree中做出风险决策时，将触发欺诈保护Web挂接。 当ACH付款的状态更新为 `settled` 或 `settlement decline`.

<!-- BUNDLE-3141-->

* 添加了LPM（本地支付方法）Web挂接。

### GraphQL

GraphQL性能增强包括：

**改进了查询启用了类别权限的类别时的响应时间**. 查询启用了类别权限且包含许多客户组或共享目录的类别中的产品时，响应时间已缩短。 <!-- B2B-2179-->

**类别树渲染在GraphQL中的优化性能**. 的 `categoryList` 已优化查询以支持具有大量类别的客户。 使用此查询搜索1500个以上具有最多五个嵌套子类别的类别的商家将注意到性能改进。
<!-- B2B-2484-->

**缩短了批量购物车操作查询响应时间**. 添加产品突变已进行优化，以在添加最多500个简单且可配置的产品时提高查询性能。 捆绑产品不受影响。 优化的突变包括 `addProductsToCart`, `addConfigurableProductsToCart`, `addDownloadableProductsToCart`, `addSimpleProductsToCart`, `addVirtualProductsToCart`,`addWishlistItemsToCart`和 `updateCartItems`. <!-- B2B-2331 2423-->

请参阅 [GraphQL开发人员指南](https://developer.adobe.com/commerce/webapi/graphql/) 以了解这些增强功能的详细信息。


### 页面生成器

页面生成器版本1.7.3与Adobe Commerce 2.4.6兼容。


### PWA Studio

PWA Studio v.13.0.x与Adobe Commerce 2.4.6兼容。它包含多项增强功能，可改进辅助功能。 有关错误修复的信息，请参阅 [PWA Studio版本](https://github.com/magento/pwa-studio/releases). 请参阅 [版本兼容性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) 以获取PWA Studio版本及其兼容的Adobe Commerce核心版本列表。


## 已修复的问题

我们正在修复Adobe Commerce 2.4.6核心代码中的数百个问题。 下面介绍了Adobe Commerce 2.4.6-beta1中包含的已修复问题的子集。

### 安装、升级、部署

<!-- ACP2E-1168-->

* 在具有多个区域设置和网站的标准或紧凑部署期间，静态内容部署不再超时或失败。

<!-- ACP2E-923-->

* 运行静态内容部署时，紧凑策略不再导致对外部域的引用无效(`bin/magento set:static-content:deploy -f --strategy compact`)。

<!-- AC-5994-->

* 正在执行 `bin/magento setup:di:compile -vvv` (或 `-v` 或 `-vv` 选项)现在会在失败时返回一条信息性消息。 [GitHub-35391](https://github.com/magento/magento2/issues/35391)

<!-- AC-5973-->

* Adobe Commerce在运行 `bin/magento setup:upgrade` 命令：  `PHP Fatal error:  Declaration of Migration\Logger\Logger::addRecord(int $level, string $message, array $context = []): bool must be compatible with Monolog\Logger::addRecord(int $level, string $message, array $context = [], ?Monolog\DateTimeImmutable $datetime = null): bool in /var/www/html/vendor/magento/data-migration-tool/src/Migration/Logger/Logger.php on line 34`. [GitHub-35604](https://github.com/magento/magento2/issues/35604)

<!-- AC-5970-->

* 的 `setup:db:status` 命令在运行MySQL 8.0.29的环境中不再失败。以前，命令输出错误地表示声明架构已过时。 [GitHub-35671](https://github.com/magento/magento2/issues/35671)

<!-- AC-1377-->

* 的 `composer install` 不再覆盖 `.gitignore` 文件。 [GitHub-32888](https://github.com/magento/magento2/issues/32888)

<!-- AC-6671-->

* 正在运行 `bin/magento sampledata:remove` 要在Alpine Linux上升级后删除示例数据，不再失败，并出现以下错误： `Undefined constant "MagentoHackathon\Composer\Magento\Deploystrategy\GLOB_BRACE`. [GitHub-36062](https://github.com/magento/magento2/issues/36062)

<!-- AC-6796-->

* 异常和异常堆栈跟踪条目现在包含在 `var/log/exception.log`. [GitHub-36054](https://github.com/magento/magento2/issues/36054)

<!-- AC-2681-->

* 现在，当您使用命令行在不带密码的情况下设置Redis连接时，Adobe Commerce会引发参数验证错误。

### 辅助功能

<!-- AC-6678 6679 6677-->

* 的 **[!UICONTROL Proceed to Checkout]**, **[!UICONTROL Review Order]**&#x200B;和 **[!UICONTROL Place Order]** 现在，使用键盘输入时，结帐工作流中的按钮可按预期工作。

<!-- AC-2485-->

* 使用 **[!UICONTROL TAB]** 或 **[!UICONTROL SHIFT + TAB]** 要在页面控件中导航，现在可以按预期工作。

#### 屏幕阅读器

<!-- AC-2498-->

* 订单历史记录页面的屏幕阅读器现在可以读取正确的图像描述。

屏幕阅读器现在会宣布：

* 在搜索结果中找到的项目总数（按预期） <!--- AC-3522-->
* 用户使用键盘控件成功登录时登录用户的名称 <!--- AC-6477-->
* 现在，产品搜索结果页面标题可读取 `<title>` 元素 <!--- AC-2489-->
* 输入字段是否为必填字段 <!--- AC-2494-->
* 更正折叠元素的当前状态（折叠和展开） <!--- AC-2487-->
* 用户单击 **[!UICONTROL Create an account]** 按钮 <!---AC-6676-->

### B2B

此版本包括多个错误修复。 此处包含B2B测试版发行说明。 您将能够在 [B2B发行说明](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

<!-- ACP2E-689-->

* 现在，在启用“采购订单”选项并选择使用PayPal付款选项创建的虚拟报价后，Adobe Commerce会在付款期间显示正确的详细信息。 以前，在这些条件下，总计显示为零。

<!-- ACP2E-716-->

* 现在，“我的报价”页面上的“显示我的报价”过滤器可以按预期工作。 以前，过滤结果包含其他管理员用户的报价。

<!-- ACP2E-609-->

* 的客户组列表 **允许浏览类别** 设置不再包含与共享目录相关的客户组。

<!-- ACP2E-1244-->

* 现在，“税/增值税号”客户属性可在管理员和店面的公司管理员帐户中按预期工作。 创建公司帐户不再需要自定义税/增值税属性。 以前，当商户创建具有自定义税/增值税属性的公司帐户时，Adobe Commerce在店面和管理员上都抛出验证错误。

<!-- ACP2E-1236-->

* 现在，在特定范围上禁用共享目录功能可正常工作。 以前，Adobe Commerce在商户保存共享目录配置时设置的范围无效。

<!-- ACP2E-1074-->

* 的 `discount_percent` 列 `sales_order_item` 当未设置物料折扣数量或大于或等于订单物料数量时，产品的表现会按预期填充折扣百分比。 以前，在将购物车价格规则应用于此产品时，不会填充此列。

<!-- ACP2E-1203-->

* 管理员用户现在可以为公司用户保存客户自定义属性值。 以前，无法保存公司用户的客户自定义属性。

<!-- ACP2E-1221-->

* 我们已解决了在分配了许多公司权限后，验证通过GraphQL提供的公司权限时出现的性能问题。

<!-- ACP2E-1242-->

* 当使用快速订购添加数量超过可用库存的产品时，Adobe Commerce不再在购物车页面上引发错误。

### 捆绑产品

<!-- ACP2E-906-->

* 现在，通过API为特定商店视图更新捆绑产品不会覆盖同一捆绑产品的其他商店视图数据。 以前，捆绑产品选项标题会使用其他商店视图的第一个选项标题来覆盖。

<!-- AC-3769-->

* 现在，可以从管理员中成功过滤捆绑产品 **[!UICONTROL Catalog]** > **[!UICONTROL Products]** 使用荷兰语区域设置时。 以前，Adobe Commerce在您尝试筛选时显示此错误 `Type: Bundle Product`: `Something went wrong with processing the default view and we have restored the filter to its original state`. [GitHub-35704](https://github.com/magento/magento2/issues/35704)

<!-- ACP2E-1038-->

* 当捆绑产品的特殊价格超过1000时，产品网格不再引发异常。 以前，当您按SKU搜索产品或导航到 **[!UICONTROL Catalog]**  > **[!UICONTROL Products]**,Adobe Commerce抛出了以下错误： `Non Numeric value encountered`. [GitHub-36284](https://github.com/magento/magento2/issues/36284))

<!-- ACP2E-1220-->

* 对于包含捆绑和简单产品组合的订单，贷项通知单和发票PDF中的列现在可正确呈现。 以前，列扭曲或未对齐。

### 缓存

<!-- ACP2E-134-->

* 订单履行后，全页缓存将不再刷新，除非订购的产品无现货。 以前，每次创建发运时都会清除类别的缓存。

<!-- ACP2E-118-->

* 如果产品仍处于库存状态，则库存数量发生更改时，类别页面缓存不再失效。 现在，Adobe Commerce会从缓存中加载页面，而不是在店面类别页面发生更改时重新生成页面（而不是其他内容）。

<!-- ACP2E-1321-->

* 现在，在配置了L2缓存并部分驱逐远程数据时，数据会成功缓存。 以前，在刷新仅数据缓存而不对这些数据进行哈希处理之后，在存在数据哈希的情况下，不会保存新缓存。

### 购物车和结账

<!-- ACP2E-965-->

* 现在，当购物车包含最小数量的简单产品时，购物者可以向购物车中添加其他商品。

<!-- ACP2E-964-->

* 用于检索购物车数据的REST API调用现在返回相同的 `grand_total` 和 `base_grand_total` 值。 [GitHub-34649](https://github.com/magento/magento2/issues/34649)

<!-- ACP2E-962-->

* 的导出值 **购物车中允许的最大数量** 现在与“管理员配置”设置中设置的默认值匹配。

<!-- ACP2E-889-->

* Adobe Commerce现在可正确计算带运费折扣的订单退款总计。

<!-- ACP2E-876-->

* Google ReCAPTCHA现在可以按预期用于店面订单。 以前，当购物者首次尝试下订单之前未先选择Google ReCAPTCHA时，Adobe Commerce会显示以下错误： `ReCaptcha validation failed, please try again` 和 `No such cart with id = ID`.

<!-- AC-2338-->

* 现在，验证码图像刷新遵循“管理员”配置设置，在禁用该设置时不会触发。 以前，无论是启用还是禁用设置，只要付款方法发生更改，都会触发刷新。 [GitHub-34855](https://github.com/magento/magento2/issues/34855)

<!-- ACP2E-479-->

* 现在，当购物者在购物车页面上更改产品数量而不更新购物车，然后尝试导航到下一页面时，Adobe Commerce会在将购物者重定向到下一页之前，按预期显示一个确认弹出窗口。

<!-- AC-5987-->

* 现在，在管理员中产品数量减少后，购物者可以从购物车中减少产品数量。 以前，当购物者尝试减少产品数量时，Adobe Commerce会引发以下错误： `The requested qty is not available`. [GitHub-35780](https://github.com/magento/magento2/issues/35780)

<!-- AC-6744-->

* 当产品数量在多次发运结帐期间超过配置的最大值时，Adobe Commerce不再在JavaScript控制台中引发错误。 现在，Adobe Commerce会显示一则信息性错误消息。 [GitHub-36184](https://github.com/magento/magento2/issues/36184)

<!-- ACP2E-1276-->

* 当购物者使用键盘上的向下箭头键更改产品数量时，购物车页面上的项目数量不再显示为负数。 [GitHub-36299](https://github.com/magento/magento2/issues/36299)

<!-- ACP2E-1242-->

* 当使用快速订购添加数量超过可用库存的产品时，Adobe Commerce不再在购物车页面上引发错误。

<!-- ACP2E-1232-->

* 购物者不能再将类别中的产品添加到购物车，现在，在更改购物者所属的客户组后，该类别不允许添加。 现在，当权限配置设置发生更改时，Adobe Commerce会检查特定类别的客户组权限访问权限。

<!-- ACP2E-926-->

* 在创建管理员订单之前，客户购物车不再清空，现在，如果订单被取消或放弃，则购物车内容会恢复。 现在，只有在创建订单后，才会从购物车中删除项目。 以前，每当管理员用户尝试在“管理员管理购物车”页面上创建订单时，购物车都会清空。

### 购物车价格规则

<!-- AC-2242-->

* 现在，在规则创建过程中设置的购物车价格规则免费送货选项将按预期应用于订单。 以前，在创建规则期间应用的免费发运选项在结帐期间被忽略，在应用规则时不允许免费发运。 [GitHub-35013](https://github.com/magento/magento2/issues/35013)

### 目录

<!-- ACP2E-1181-->

* 产品列表小组件不再显示登录购物者的错误或缓存价格。 现在，主页小组件中显示的价格与购物者的地址相匹配，并在购物者更新地址时进行更新。 以前，浏览器缓存不会根据客户组税则更新主页上的产品价格。

<!-- ACP2E-1007-->

* 现在，比较产品列表功能在多网站部署中可正常使用，并且依赖于网站。

<!-- ACP2E-900-->

* Adobe Commerce在重新加载产品详细信息页面时不再显示上一页的数据。 以前，重新加载产品详细信息页面时，第一个选项卡中的数据会与新加载的数据合并一秒钟。

<!-- ACP2E-816-->

* 现在，可以在移动设备的主菜单中按预期扩展具有子类别的类别。 以前，购物者无法在移动设备部署中打开或展开具有子类别的类别。 [GitHub-35329](https://github.com/magento/magento2/issues/35329)

<!-- ACP2E-789-->

* 现在，在将产品分配到新网站或商店时，会按预期更新类别列表。 以前，产品价格索引器未标记为无效，随后在 `cron` 按预期运行。 因此，价格指数表中缺少产品的价格条目，并且未在新商店或网站上显示。

<!-- AC-6395-->

* 现在，在 **显示无现货产品** 配置设置已启用。 [GitHub-35899](https://github.com/magento/magento2/issues/35899)

<!-- AC-6384-->

* 当 **每页允许所有产品** 设置。 [GitHub-35900](https://github.com/magento/magento2/issues/35900)

<!-- AC-6330-->

* 的 **显示无现货产品** 现在，配置选项在启用后可按预期工作。 以前，当管理员上启用此选项时，所有产品在店面上都显示为无现货。 [GitHub-35898](https://github.com/magento/magento2/issues/35898)

<!-- AC-2631-->

* 现在，分配给批发组的客户在获得类别权限允许时，可以将分组产品添加到其购物车。 如果未为客户组定义此权限，则优先使用配置设置。

<!-- ACP2E-1334-->

* 现在，作为可配置产品选项的缺货简单产品，在 **显示无现货产品** 设置为 **[!UICONTROL Yes]**. 以前，所有选项都显示为可用，尽管其状态和实际可用性如此。

<!-- ACP2E-1306-->

* 现在，按布尔属性对产品排序可按预期工作。 [GitHub-36390](https://github.com/magento/magento2/issues/36390)

<!-- ACP2E-1206-->

* 目录价格规则折扣不再应用于固定价格的自定义产品选项，而是仅应用于产品的原始价格。

<!-- ACP2E-1027-->

* 现在，当相关产品规则由字母数字产品属性生成时，相关产品会在店面产品详细信息页面上成功获取。  [GitHub-36285](https://github.com/magento/magento2/issues/36285)

<!-- ACP2E-1147-->

* 现在，在“目录”页面上进行过滤后，当 **显示无现货** 启用。 以前，无现货产品的店面计数不正确。

<!-- AC-6810-->

* 目录价格规则现在考虑选定的范围，并且仅适用于属性具有与规则匹配的选项值的网站的产品。 以前，规则未考虑多站点部署中的选定范围。 [GitHub-36049](https://github.com/magento/magento2/issues/36049)

<!-- ACP2E-891-->

* 现在，当购物者从“我的购物车”页面修改可配置产品时，将在产品详细信息页面中预先选择样本选项的颜色和大小属性。 (jQuery 3.x版本现在支持 `swatchRenderer` 小组件名称，现在为驼峰式。) 以前，不会预选色板选项。

<!-- ACP2E-1361-->

* 现在，当客户订阅价格下降警报时，系统会通知客户产品价格下降。 以前，由于应用程序级别缓存，并非始终发送降价通知。

<!-- ACP2E-1348-->

* 基于SKU且 **不是** 条件现在可按预期工作。

<!-- ACP2E-1239-->

* 当 `product_image_white_borders` 主题 `view.xml` 已禁用。 以前，由于Fotorama JavaScript中的高度设置不正确，产品图像在页面加载期间明显向下移动。

### 可配置产品

<!-- ACP2E-1148-->

* 如果在创建的选项时将数量设置为0，并且 **显示缺货产品** 启用。

<!-- ACP2E-1083-->

* Adobe Commerce在管理员用户将产品手动添加到已分配给许多简单产品的可配置产品时，不再引发错误。 以前，Adobe Commerce会显示以下错误： `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- AC-2877-->

* 在禁用后退订单的部署中，购物者无法再将可售数量为0的可配置产品添加到其购物车。 Adobe Commerce现在表示产品无现货。 [GitHub-35319](https://github.com/magento/magento2/issues/35319)

<!-- AC-2678-->

* 现在，通过从不同的商店视图导入带有许多选项的可配置产品来创建新产品，可以按预期生成第一个产品的确切副本。 以前，新产品可配置选项的排序顺序不正确，并且标题在具有多个商店视图和区域设置的部署中未转换为新商店视图的区域设置。 [GitHub-35200](https://github.com/magento/magento2/issues/35200)

<!-- AC-995-->

* 当可配置产品的可售数量为0时，样本不再在店面上显示为可用。 [GitHub-33697](https://github.com/magento/magento2/issues/33697)

<!-- AC-535-->

* 现在，所有缺货子产品的可配置产品在店面显示为缺货。

### 优惠券

<!-- ACP2E-1053-->

* 已在“管理优惠券代码”工作流中添加验证逻辑，以在生成优惠券时强制执行优惠券代码设置。 以前，优惠券代码生成会忽略 **代码长度** 设置时间 **优惠券数量** 值大于2500。

<!-- ACP2E-1029-->

* 现在，当在使用PayPal Express付款方法结账期间应用奖励优惠券时，将按照预期将奖励积分添加到客户帐户。

<!-- ACP2E-1225-->

* 现在，当购物车价格规则具有权重作为条件时，您可以在创建管理员订单期间应用优惠券代码。 以前，如果未为产品选择其他字段，则不会设置优惠券代码。 [GitHub-36271](https://github.com/magento/magento2/issues/36271)

<!-- ACP2E-1223-->

* 您现在可以按多个购物车价格规则过滤优惠券报表。 [GitHub-36272](https://github.com/magento/magento2/issues/36272)

<!-- AC-2812-->

* 现在，当管理员用户按下时，可应用并保存自定义选项 **[!UICONTROL Enter]** 使用自定义选项配置产品时。 以前，您可以选择选项并将产品添加到订单，但选项未保存，并且系统会提示管理员用户重新选择产品选项。 [GitHub-35284](https://github.com/magento/magento2/issues/35284)

### cron

<!-- ACP2E-1243-->

* 的 `catalog_index_refresh_price` cron作业现在成功执行。 以前，Adobe Commerce在代码执行期间记录了此错误： `report.ERROR: Cron Job catalog_index_refresh_price has an error: SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens`.

### 货币

<!-- ACP2E-1012-->

* 自定义货币符号和价格之间缺少的空间已添加到店面和管理员产品价格中。 添加了适当的条件和正则表达式表达式，以允许在货币符号中使用自定义NBSP。 例如，IDRx 105.00以前显示为IDRx105.00。

### 客户区段

<!-- ACP2E-1185-->

* 在创建新购物车价格规则期间，管理员客户区段网格上的“是”/“否”筛选器现在可按预期工作。

### 电子邮件

<!-- ACP2E-1063-->

* 从管理员创建订单后，Adobe Commerce不再向客户发送重复的电子邮件。

<!-- AC-2903-->

* 客户电子邮件地址现在可以包含变音符号。 以前，前端验证禁止在用户的电子邮件地址中创建带有变音符号的用户。 [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1200-->

* 管理员订单电子邮件在 **电子邮件订单确认** 设置处于禁用状态。  [GitHub-36256](https://github.com/magento/magento2/issues/36256)

<!-- ACP2E-1151-->

* 对于具有自定义选项的产品，图像选项不再在贷项通知单、订单确认和发票客户电子邮件（默认模板）中显示为HTML标记。

### 框架

<!-- AC-6385-->

* 管理员用户现在可以成功打开管理员 **[!UICONTROL Store]** > **[!UICONTROL Configuration]** 页面中的国家/地区 **欧盟国家** 设置(**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL General]** > **[!UICONTROL Country options]** > **[!UICONTROL European Union Countries]**)。 以前，当管理员用户尝试打开此页面时，Adobe Commerce抛出了以下错误： `TypeError: explode(): Argument #2 ($string) must be of type string, null given in /var/www/php/folder/vendor/magento/module-config/ViewModel/CountryFilter.php:46`. [GitHub-35901](https://github.com/magento/magento2/issues/35901)

<!-- AC-6361-->

* `jquery.cookie` 依赖项现在可以在JavaScript依赖项中按预期工作。 以前，不能将别名用于 `jquery/jquery.cookie`. [GitHub-35913](https://github.com/magento/magento2/issues/35913)

<!-- AC-3226-->

* 的 `bin/magento i18n:collect-phrases` 现在包含 `<title>` 文本。 [GitHub-35462](https://github.com/magento/magento2/issues/35462)

<!-- AC-6841-->

* `Magento\Framework\Code\Reader\ArgumentsReader::getParentCall()` 现在支持命名的构造函数参数。 您现在可以通过按参数名称设置参数来调用函数。

<!-- AC-6545-->

* 使用 `mixed` 类型作为参数或返回类型现在受支持。 以前。 Adobe Commerce在使用此类型时引发此PHP错误： `Type "mixed" cannot be nullable`. [GitHub-35579](https://github.com/magento/magento2/issues/35579)

<!-- AC-6223-->

* 的 `NewRelic` 包装器类现在可捕获所有可通过 `TypeError` 例外。 [GitHub-35854](https://github.com/magento/magento2/issues/35854)

<!-- magento/magento2/pull/35567-->

* Adobe Commerce不再基于类别路径错误地假设一个类别是另一个类别的父类别。 以前，当两个类别相邻且一个类别ID以另一个类别的类别ID开头时，Adobe Commerce会假定这些类别具有相同的父类别。 [GitHub-32464](https://github.com/magento/magento2/issues/32464)

<!-- ACP2E-1287-->

* 现在，错误会按照 `exception.log` 文件。 以前，尽管错误已记录在 `system.log` 文件，错误未登录 `var/log/exception.log`.

<!-- AC-3752-->

* 现在，在运行Adobe Commerce 2.4.3-p2的部署中，可以按预期重新授权OAuth集成。 以前，重新授权失败，并出现以下错误： `The attempt to post data to consumer failed due to an unexpected error. Please try again later`. Adobe Commerce还尝试解密未加密的值。 [GitHub-35313](https://github.com/magento/magento2/issues/35313)

<!-- ACP2E-1201-->

* 正确 `rowId` 当类别 `urlKey` 将保存具有子类别的类别。 以前，错误 `categoryId` 在保存类别时传递 `URLKey`.

<!-- ACP2E-981-->

* 产品属性代码 `event` 已添加到保留产品属性代码的列表，这可消除与在店面上使用具有此名称的属性相关的错误。 以前，应用程序会在产品详细信息和搜索/产品列表页面上 `event` 已使用：  `report.CRITICAL: Error: Call to a member function getStatus() on string in /home/mer33515/public_html/ee24develop/magento2ee/app/code/Magento/CatalogEvent/Observer/ApplyIsSalableToProduct.php:23`.

<!-- AC-5985-->

* 现在，在下单过程中出现的店面验证错误消息会始终如一地显示。 以前，会显示、折叠、然后重新显示消息。 [GitHub-35651](https://github.com/magento/magento2/issues/35651)

<!-- AC-2943-->

* AMQP消费者不再因弃用而失败 `trim()` 函数。以前，当AMQP使用者在安装后启动时，Adobe Commerce会抛出以下错误： `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in .../vendor/magento/framework-amqp/Config.php on line 143`. [GitHub-35380](https://github.com/magento/magento2/issues/35380)

### 一般修复

<!-- ACP2E-1068-->

* Adobe Commerce现在会在管理员用户选择 **[!UICONTROL Last 24 Hours]** 选项。 以前，Adobe Commerce显示的时间范围不正确。 发生此情况是因为数据库的时区保持不变。

<!-- ACP2E-1066-->

* 现在，可以为整数和小数量生成贷项通知单。 以前，仅支持整数量。

<!-- ACP2E-1001-->

* 类型的客户邮政编码输入验证规则 **仅限数值** 现在可以按预期运行 **[!UICONTROL Edit Customer Address]** 字段(**[!UICONTROL Store]** > **[!UICONTROL Attribute]** > **[!UICONTROL Customer Address]**)。 以前，客户地址信息是在未经邮政编码验证的情况下保存的。

<!-- ACP2E-975-->

* 现在，访问限制为一个网站的管理员用户可以使用“以客户身份登录”功能成功登录到管理员。

<!-- ACP2E-873-->

* 现在，全球共享的客户帐户具有的地址已根据当前网站允许的国家/地区列表进行验证并成功保存。 以前，这些帐户与注册客户的网站所允许的国家/地区的对比会被错误地验证。

<!-- ACP2E-3167-->

* CMS页面层次结构中的痕迹导航在 **启用层次结构功能** 已禁用。 以前，会显示痕迹导航，当购物者单击痕迹导航时，会显示404页面。 [GitHub-35513](https://github.com/magento/magento2/issues/35513)

<!-- AC-2567-->

* 通过管理员从所有网站中删除产品不再导致以下错误： `SQLSTATE[42000]: Syntax error or access violation`. [GitHub-35133](https://github.com/magento/magento2/issues/35133)

<!-- AC-2235-->

* 超过最大登录失败次数的客户现在可以在密码重置后登录。 [GitHub-34981](https://github.com/magento/magento2/issues/34981)

<!-- AC-2020-->

* 现在，当管理员用户添加新元素时，动态行组件会按预期工作。 以前，将新的简单产品添加到分组产品时，行组件的行为不正确。 [GitHub-34850](https://github.com/magento/magento2/issues/34850)

<!-- magento/magento2/pull/35598-->

* 更正了 `app/code/Magento/Backend/etc/menu.xsd` 文件。

<!-- magento/magento2/pull/35818-->

* 的 `app/code/Magento/Authorization/README.md` 文件已更新，可准确描述表的创建过程。

<!-- AC-6635-->

* `base64` — 编码的URL不再包含RFC 3986定义的保留字符。  [GitHub-36042](https://github.com/magento/magento2/issues/36042)

<!-- magento/magento2/pull/35940-->

* 的 `recordLogin` 方法已更新，可在用户模型上设置登录值，并在 `logdate` 和 `lognum` 字段 `admin_user` 表。 以前，不会记录更新的管理员用户的登录尝试。

<!-- AC-2553-->

* 现在，New Relic报表模块符合CSP，并且在启用跟踪网站数据时，为浏览器报表指定的New Relic域将包含在CSP标头中。 [GitHub-34707](https://github.com/magento/magento2/issues/34707)

<!-- magento/magento2/pull/35990-->

* GitHub问题模板已转换为针对开发人员体验问题和功能请求的问题表单。

<!-- ACP2E-961-->

* 的 `Is required` 现在，管理员客户编辑表单的每个网站范围均正确实施了客户属性。

<!-- ACP2E-895-->

* 的 **[!UICONTROL Grid Filter Condition Type]** 当属性编辑页面上显示客户和客户地址属性字段时， **[!UICONTROL Use in Filter Option]s** 设置处于禁用状态。

<!-- AC-6020-->

* 现在，如果商家在创建产品时未能输入可选的SKU属性值，则Adobe Commerce会显示一条信息丰富的错误消息。 以前，当属性为可选属性时，应用程序会引发此异常： `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/html/mg244/project-community-edition/vendor/magento/module-eav/Model/Entity/AbstractEntity.php on line 932`. [GitHub-35810](https://github.com/magento/magento2/issues/35810)

### 礼品卡

<!-- ACP2E-851-->

* 现在，礼品卡产品金额与导入期间在CSV文件中指定的金额相同。 已添加对现有选项的检查，并且以前的值现在会根据唯一键进行更新。 以前，礼品卡进口多次时，礼品卡的金额会翻倍。

### 礼品包装

<!-- AC-3061-->

* 当将礼品包装应用于包含物理和虚拟产品的订单时，礼品包装价格现在按预期显示在订单摘要块中。 以前，Adobe Commerce不显示礼品包装价格。

### GraphQL

<!-- AC-1730-->

* `Types` 现在，在GraphQL代码中实施多个接口的 `&` 同时， `,` 根据GraphQL `@doc`规范。

<!-- ACP2E-885-->

* 的 `setShippingAddressesOnCart` 突变现在支持将数字区域代码设置为 `region`. 以前，此变异对数字区域代码值的工作不正确。

<!-- ACP2E-1237-->

* 的 `products` 查询现在只返回与指定范围关联的审阅。 以前，查询会从所有存储返回审阅。

<!-- ACP2E-882-->

* 现在，在GraphQL请求期间遵循类别权限。

<!-- AC-1805-->

* 的 `customer` 现在，查询会根据指定的 `from` 和 `to` 范围正确。 [GitHub-31537](https://github.com/magento/magento2/issues/31537)

<!-- AC-5984-->

* 的 `product` 查询现在可在聚合中返回正确的类别数据。 以前， `attribute_code: category_uid` 返回的值为 `category_id` 而不是 `category_uid`.

### Google ReCAPTCHA

<!-- AC-3179-->

* reCAPTCHA错误 `var/log/exception.log` 已解决Google V3 reCAPTCHA管理员登录的文件，且未记录任何错误消息。 以前，在管理员用户配置其 **[!UICONTROL Configuration]** > **[!UICONTROL Security]** > **[!UICONTROL Google reCAPTCHA Admin Panel]** 设置： `main.ERROR: Can not resolve reCAPTCHA parameter. {"exception":"[object] (Magento\Framework\Exception\InputException(code: 0): Can not resolve reCAPTCHA parameter. at /home/xxxxxxx/public_html/vendor/magento/module-re-captcha-ui/Model/CaptchaResponseResolver.php:25)"} []`. [GitHub-34975](https://github.com/magento/magento2/issues/34975)

### 图像

<!-- ACP2E-905-->

* 更新了PDF发票单徽标大小的建议。

### 导入/导出

<!-- ACP2E-957-->

* 导入与现有产品具有相同数字URL键但没有其终端字母字符的产品，在 **产品URL后缀** 在管理员中设置为空。

<!-- AC-6588-->

* 的 `bin/magento app:config:import`命令现在可成功导入 `config.php` 当文件包含 `cron` 表达式。 以前，导入失败，并出现以下错误： `Import failed: Notice: Trying to access array offset on value of type null in [..]/vendor/magento/module-config/Model/Config/Backend/Currency/Cron.php on line 66`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-1289-->

* 现在，当AWS S3用作远程存储时，完全导出可正常工作。 以前，由于上传的文件大小，导出失败。

<!-- AC-6825-->

* 您现在可以将管理员中允许的错误计数设置为0 **[!UICONTROL System]** >  **[!UICONTROL Import]**.  [GitHub-36252](https://github.com/magento/magento2/issues/36252)

<!-- ACP2E-982-->

* 现在，当CSV文件中的库存数据列缺失时，可以正确导入产品状态。 以前，在产品导入后，会自动将默认来源分配给产品，其数量设置为零，并且当CSV文件中的库存数据列缺失时，其状态会列为无现货。

<!-- ACP2E-841-->

* 现在，当导入包含100条以上记录时，导入预先定价值可为新记录和更新记录提供正确计数。 以前，导入成功消息提供的计数错误。

<!-- ACP2E-984-->

* 导出的CSV文件现在包含到使用多种语言保存的类别名称的正确路径。 已为类别集合添加商店ID。  以前，导出的文件包含使用不同语言的混合路径，而不是从默认存储视图派生的类别路径。

<!-- ACP2E-1319-->

* 现在，通过导入成功完成在特定商店视图中更新产品的自定义选项。 以前，如果将与产品相关的行拆分为多个批次，则会引发内部服务器错误。

### 索引

<!-- AC-3152-->

* 索引器 `batch_size` 对于 `catalogpermissions_category` 索引现已更改为 `env.php` 文件。 以前，索引器路径中的错误 `batch_size` 覆盖会阻止将批量大小更改为 `env.php`. [GitHub-652](https://github.com/magento/partners-magento2ee/issues/652)

<!-- ACP2E-1296-->

* 现在，如果未将包含捆绑产品的目录分配给任何网站，则价格重新索引会成功运行。 以前，运行产品价格指数时会发生以下错误： `Warning: Undefined array key <bundel product id > in vendor/magento/module-bundle/Model/ResourceModel/Indexer/Price/DisabledProductOptionPriceModifier.php on line 117`. [GitHub-35796](https://github.com/magento/magento2/issues/35796)

### 基础架构

<!-- ACP2E-869-->

* 添加了 `DATE` 和 `DATETIME` 用于支持Adobe Commerce的数据库转储中的值。 以前，数据库备份表中的customer/quote/order表未清理日期时间类型字段。

<!-- ACP2E-804-->

* 的 `escaper.js` `escapeHtml` 函数现在会将与号(&amp;)特殊字符转换为 `"$amp;"` per `InnerHtml` 规则。 此通用解决方案解决了标题输入框中的特殊字符和字符引用转换问题，并将确切值保存为插入。 以前，内容层次结构中的节点名称中错误地对与号(&amp;)字符进行了编码。

<!-- AC-5972-->

* 第三方问题 `colinmollenhour/php-redis-session-abstract` 模块和PHP 8.1已得到解决。 [GitHub-35634](https://github.com/magento/magento2/issues/35634)

<!-- AC-6868-->

* 禁止 `@author` 标记已从整个代码库的模块中删除。 [GitHub-36338](https://github.com/magento/magento2/issues/36338)

### Inventory management

此版本包括多个错误修复。 此处包含Inventory management的测试版发行说明。 您将能够在中找到适用于Inventory management的Adobe Commerce 2.4.6 GA发行说明 [发行说明](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html).

<!-- ACP2E-1106-->

* 现在，当售出的子产品退回到现货时，店面会将复合产品（可配置、捆绑和分组）显示为现货。 以前，店面显示复合产品在这些条件下无现货。

<!-- ACP2E-1033-->

* 现在，在单来源模式下通过 **显示缺货产品** 设置启用。 Adobe Commerce现在会在计数时检查产品是否可销售。

<!-- ACP2E-1015-->

* 在启用“库存”后，店内交付的购物车价格规则现在可以按预期工作。 以前，购物车价格规则生成的折扣不适用于这些条件。

<!-- ACP2E-1003-->

* 在计划模式下更新产品库存不再清除所有缓存。 以前，库存索引器清除了所有配置缓存。

<!-- ACP2E-992-->

* 现在，“高级库存”中产品的“允许发运多个箱”属性的值按预期保存。

<!-- ACP2E-979-->

* 现在，在为带有店内提货的订单提供部分退款贷项通知单后，Adobe Commerce会发出准确的预订补偿。 以前，保存到 `inventory_reservation` 管理员用户在未选择 **[!UICONTROL Return to Stock]** 复选框。

<!-- ACP2E-952-->

* 在实施多源库存的部署中，当可配置产品的某个变体被手动返回到库存后，该产品在店面上将不再显示为无现货。

<!-- ACP2E-925-->

* 产品网格上的列位置(**[!UICONTROL Catalog]** > **[!UICONTROL Products]**)在配置了多个库存源的部署中重新加载页面后，不再还原回其上一个位置。

<!-- ACP2E-908-->

* 现在，在为虚拟产品发出贷项通知单后，当 **[!UICONTROL Back to stock]** 复选框。

<!-- ACP2E-859-->

* 现在，您可以保存自动产品排序和范围的类别，这些类别已分配给非默认库存。 以前，Adobe Commerce未保存类别并显示以下错误： `Something went wrong while saving the category`.

<!-- ACP2E-813-->

* 现在，当使用所有无现货可配置变量创建产品时，可配置产品库存状态会按预期进行更新。

<!-- ACP2E-924-->

* 现在，保留不一致分析器工具可以正确处理包含可配置、捆绑和分组产品的部分已发运订单。 现已分析复合产品类型。 以前，只为父产品保存取消和退款，而不为可配置捆绑产品和捆绑产品的子产品订单项目保存。

<!-- ACP2E-1180-->

* Adobe Commerce在管理员用户尝试将200个或更多库存源分配给库存或产品时不再显示错误。

<!-- ACP2E-1138-->

* 商户现在可以为从中删除产品的订单创建贷项通知单。 以前，当产品在创建发票后从订单中删除时，商户无法创建贷项通知单。 应用程序显示以下错误： `Following products with requested skus were not found: s00001`.

<!-- ACP2E-1017 -->

* 现在，会根据单个和多个存储ID对存储进行过滤。 的 `event` 产品属性代码已添加到保留属性代码的列表。 以前，在安装库存模块时，低库存报表会引发异常。

<!-- ACP2E-748 -->

* 分层导航过滤器现在可以按预期工作，现在，无现货产品会附加到店面类别产品列表中。 新 `is_out_of_stock` “排序”属性使用Elasticsearch动态字段映射器进行店面产品集合。

### 媒体集

<!-- AC-3034-->

* 现在，旧版媒体集默认处于禁用状态。 以前， **启用旧媒体集** 设置为 **[!UICONTROL Yes]**.

<!-- ACP2E-1302 -->

* “新媒体集”已进行优化，以改进类别页面中目录树的加载。

### 日志

<!-- ACP2E-1312-->

* 现在，您可以为0字节的日志文件生成系统报告。 以前，当一个或多个文件为空时，Adobe Commerce在为日志文件集合生成报表时会引发错误。

### 订购

<!-- ACP2E-1107-->

* “管理员销售订单贷项通知单”页面现在显示使用“商店贷项”和多张发票创建的订单的正确总计。 以前，总计计算不正确，用户无法生成贷项通知单。

<!-- ACP2E-998-->

* 现在，在安装脚本中传递的顺序前缀已正确添加到顺序ID中。

<!-- ACP2E-790-->

* 现在，当订单包含具有较长自定义文本值的产品时，订单详细信息页面会成功加载。 以前，不会加载订单详细信息页面，并且 `sales_order_item.product_options` 如果产品包含文本自定义选项的长值，则列未正确存储。

<!-- ACP2E-3178-->

* 现在，对于部分退货的订单，店面订单状态是准确的。 以前，在应用部分退款时，订单在发运后仍处于处理状态。 [GitHub-35528](https://github.com/magento/magento2/issues/35528)

<!-- AC-3031-->

* 现在，客户组准确表示为 **未登录** 用于来宾用户创建的订单。 以前，客户组在来宾订单概要中为空，这会影响确认电子邮件和订单导出。 [GitHub-35440](https://github.com/magento/magento2/issues/35440)

<!-- AC-2811-->

* 状态为 **已关闭** 现在，在发出贷项通知单并退回客户后，会按预期分配给虚拟订单。 以前，虚拟产品显示为 **完成** 在“状态”下拉列表中，但 **已关闭** 在从管理员添加评论时出现的订单注释页脚中。 [GitHub-35283](https://github.com/magento/magento2/issues/35283)

<!-- AC-6641-->

* 现在，客人可以订购数量少于1的产品，产品数量现在严格键入为 `float`. 以前，由于产品数量严格键入为 `int`，则产品数量小于1的订单失败，并显示以下消息： `Some of the products are disabled`. [GitHub-36060](https://github.com/magento/magento2/issues/36060)

<!-- AC-2998-->

* 购物者现在可以根据预期使用可选的自定义选项重新订购可配置产品。 以前，Adobe Commerce会抛出以下错误： `Some of the selected options are not currently available`. [GitHub-35409](https://github.com/magento/magento2/issues/35409)

<!-- ACP2E-1313-->

* 现在，在 **对价格应用折扣** 配置选项设置为 **包括税**.

<!-- ACP2E-1199-->

* 现在，在订单存档后，发票、发运和贷项通知单网格将异步更新。

<!-- ACP2E-1194-->

* 重复订单不再由同一并行的GraphQL请求产生。 现在，为防止创建重复订单，报价将锁定长达10秒，并且第二个请求因出现以下错误而失败：  `The cart isn't active`  或  `The order has already been placed and is currently processing`. 此锁定值可通过di为 `Magento\Quote\Model\PlaceOrderMutex` 类 `lockWaitTimeout` 参数。 [GitHub-36274](https://github.com/magento/magento2/issues/36274)

<!-- ACP2E-1170-->

* 向已存档订单添加评论不再将其返回到未存档订单网格，同时保留其存档状态。

<!-- ACP2E-860-->

* 现在，公司属性值会按预期显示在结帐工作流的帐单和送货地址部分。 以前，由于在订单创建期间未正确设置商店，公司属性未正确显示在订单详细信息页面上。 仅当 **显示公司** 属性设置为 **[!UICONTROL optional]** 表示 **主网站** 在多商店部署中。

<!-- ACP2E-1117-->

* 的 `customer_address_id` 值现在设置为在 **[!UICONTROL My billing and shipping address are the same]** 复选框。 在为送货地址设置客户地址ID之前，还引入了其他条件来标识帐单地址是否与送货地址相同。

<!-- AC-6057-->

* 订单投放的并发问题已得到解决。 以前，如果从不同的浏览器同时或几乎同时下达两个订单，则两个订单的分配顺序ID都相同。 [GitHub-35833](https://github.com/magento/magento2/issues/35833)

<!-- AC-6908-->

* 现在，在启用异步索引时，可以按预期为免费产品下达自动开票订单。 不会向 `sales_order_grid or sales_invoice_grid` 表格。 以前，Adobe Commerce会引发异常，因为应用程序尝试在订单放置期间对网格进行索引，而不是依赖 `cron`. [GitHub-36334](https://github.com/magento/magento2/issues/36334)

### 页面生成器

<!-- ACP2E-956-->

* 现在，您可以使用页面生成器拖放功能将图像批量导入库。

<!-- AC-2074-->

* 页面生成器滑块CSS规则的问题已得到解决。 [GitHub-34527](https://github.com/magento/magento2/issues/34527)

<!-- ACP2E-978-->

* `Dropdown`, `Text area`和 `Text field` 属性现在在页面生成器产品属性列表中可用。 以前，仅 `Dropdown` 和 `Text area` 属性可用。

### 付款

<!-- ACP2E-862-->

* 对于装运地址和帐单地址中指定的国家/地区，在免除COD时，COD付款方法不再呈现在店面结账工作流中。 以前，未实施此功能的管理员配置设置。

<!-- AC-1119-->

* 如果购物者未保存令牌，则电子仓库付款信息将不再显示在管理员订单创建工作流的付款部分中。 [GitHub-33954](https://github.com/magento/magento2/issues/33954)

<!-- AC-2688-->

* 按购物车价格规则应用折扣后，自定义价格不再翻倍。 [GitHub-35154](https://github.com/magento/magento2/issues/35154)

<!-- ACP2E-1120-->

* 使用零小计结帐付款方法下订单时，新订单待定状态将按预期执行。

#### Braintree

<!-- BUNDLE-3186-->

* 订单ID现在添加到付款交易的结算请求中。

<!-- AC-3030-->

* 当商户单击 **[!UICONTROL Reports]** > **[!UICONTROL Braintree Settlement]**: `Error: Undefined constant Braintree\PaymentInstrumentType::ANDROID_PAY_CARD in /var/www/html/vendor/paypal/module-braintree-core/Ui/Component/Report/Listing/Column/PaymentType.php:49`. [GitHub-35434](https://github.com/magento/magento2/issues/35434)

<!-- BUNDLE-3043-->

* 的 `customerPaymentTokens` 在管理员上关闭电子仓库后，查询不再返回Braintree令牌。

<!-- BUNDLE-3107-->

* 的 **[!UICONTROL Pay Later]** 已为意大利和西班牙启用按钮和横幅。

<!-- BUNDLE-3137-->

* 管理员用户现在可以在启用Braintree付款方法时创建订单或重新排序。 以前，Adobe Commerce会抛出以下错误： `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.

<!-- BUNDLE-3139-->

* 现在，在启用BraintreePayPal并且 **启用卡付款** 已禁用。 以前，进度栏从未解析，Adobe Commerce显示此控制台错误： `adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66)`. [GitHub-35961](https://github.com/magento/magento2/issues/35961)

<!-- BUNDLE-3140 3141-->

* 实施了欺诈保护、ACH支付和本地支付方式Web挂钩。 欺诈保护Web挂接仅在在Braintree中做出风险决策时触发。 只有在ACH付款更新为 `settled` 或 `settlement decline`.

<!-- BUNDLE-3143-->

* 的 **[!UICONTROL Tagline]** 和 **[!UICONTROL Layout]** 已从所有 **[!UICONTROL PayPal]** 按钮。

<!-- AC-2901-->

* Braintree付款信息现在按商店保存，购物者现在只能看到保存在其购物商店中的卡片信息。 以前，购物者在结帐期间可以查看所有商店中存储的卡信息。 [GitHub-34253](https://github.com/magento/magento2/issues/34253)

<!-- ACP2E-1229-->

* 当购物者更新其帐单地址时，Braintree保管库付款方法选项会在结账工作流中保持选中状态。 以前，当购物者取消选择 **[!UICONTROL My billing and shipping address are the same]** 按钮。

<!-- BUNDLE-3184-->

* 现在，在 **发送行项目** 配置字段。

<!-- BUNDLE-3187-->

* ACH支付方法的验证逻辑 **[!UICONTROL Account Number]** 字段现在支持四到十七位数的文本。

<!-- BUNDLE-3043-->

* 的 `customerPaymentTokens` 在管理员关闭电子仓库后，查询不再返回Braintree令牌。

<!-- BUNDLE-3137-->

* 现在，在启用Braintree付款方法后，管理员用户可以为客户创建订单或重新排序。 以前，Adobe Commerce会抛出以下错误： `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`

<!-- BUNDLE-3139-->

* 购物者现在可以在店面中使用Braintree付款方法， **启用卡付款** 已被禁用。 以前，Adobe Commerce会抛出以下JavaScript错误： `_adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66).`

### 性能

<!-- ACP2E-1028-->

* 现在，在对大型目录进行部分重新索引期间替换记录后，价格索引器会按预期删除过时的数据。 以前，重新索引过程会在替换过时的记录之前删除这些记录，这会导致产品偶尔从店面中暂时消失。 [GitHub-35616](https://github.com/magento/magento2/issues/35616)

<!-- ACP2E-963-->

* 的性能 `bin/magento/setup:upgrade` 命令已得到改进。 以前，此命令重新创建数据库触发器，这会在命令执行期间导致严重停机。 此外，索引器未还原到计划模式并保留在保存模式。 [GitHub-33386](https://github.com/magento/magento2/issues/33386)

<!-- ACP2E-1016-->

* 现在，通过API更新层价格的速度更快。 以前，更新层价格会产生不必要的影响 `SELECT` 查询，在将多个客户组分配给产品后，查询会延迟执行。

<!-- ACP2E-1090-->

* 的性能 `SELECT` 公司权限操作已得到改进。

<!-- ACP2E-1307-->

* 加载目录小组件产品列表后，页面加载性能已得到提高。 以前，非全局属性直接从数据库加载。

### 报告

<!-- ACP2E-852-->

* 管理员日志报表现在可以准确显示 **更改前的值** 值。

<!-- ACP2E-1104-->

* 订单总计报表 **从** 和  **to** 现在，在从日期选取器中进行选择后，可以正确显示日期。

### 退货授权(RMA)

<!-- ACP2E-1285-->

* RMA注释字段(**[!UICONTROL Orders]** > **[!UICONTROL Return]**)不再包含冗余空格。 ( `<textarea>` 和 `<?php` 标记现在位于一行中。

<!-- ACP2E-1279-->

* 的 **[!UICONTROL Use Config Settings]** 复选框 **[!UICONTROL Enable RMA]** 字段现在会在保存产品时按预期保存其值。

### 评论

<!-- ACP2E-1214-->

* 对特定范围具有受限访问权限的管理员用户现在可以按预期删除产品审阅。

### 角色

<!-- ACP2E-1277-->

* 为添加了缺失的ACL **[!UICONTROL Stores]** > **[!UICONTROL Configuration]**  >  **[!UICONTROL Services]**  > **[!UICONTROL OAuth]**. 以前，在设置角色权限时，您无法定义对此OAuth配置设置的访问权限。

### 搜索

<!-- ACP2E-989-->

* 现在，在 **要匹配的最小术语数** 配置设置已启用。 以前，Adobe Commerce会抛出以下错误： `{"error":{"root_cause":[{"type":"parsing_exception","reason":"[match_phrase] query does not support [minimum_should_match]' ...`.

<!-- ACP2E-877-->

* 的 **注册点** 在销售订单客户网格上搜索客户记录筛选器现在可以在订单创建期间按预期工作。

<!-- ACP2E-783-->

* 对于多字查询，搜索建议的质量已得到改进。

<!-- AC-6768-->

* 搜索结果现在包括所有可用产品的无现货选项输出，当 **显示无现货产品** 已启用 [GitHub-36055](https://github.com/magento/magento2/issues/36055)

### 装运

<!-- ACP2E-670-->

* 如果将“免费送货车”规则设置为仅与购物车中的部分项目匹配，则可正确计算FedEx、USPS和UPS的送货费率。

<!-- AC-937-->

* 当订单总额小于符合免费装运条件的指定最小订单金额时，“管理员发运”页面不再显示免费发运选项。 [GitHub-33697](https://github.com/magento/magento2/issues/33697)

<!-- AC-838-->

* Adobe Commerce现在遵循管理员客户配置 **显示公司** 配置设置。 禁用此设置后，发运公司将不再包含在发运、客户地址或数据库订单记录中。 以前，尽管设置了禁用，仍会显示信息。 [GitHub-33729](https://github.com/magento/magento2/issues/33729)

<!-- magento/magento2/pull/35631-->

* 在估算装运时删除了对报价的多余保存操作。

<!-- magento/magento2/pull/35817-->

* `storeId` 范围现在直接从 `$request->getStoreId()` 以确保在管理员用户创建报价时，范围不会丢失。 以前，在使用第三方模块从管理员创建报价时，发送方法有时会出现问题。

<!-- ACP2E-1304-->

* 现在，已为其产品生成SEO友好URL `url_key` 设置会在存储视图级别被覆盖。 以前，类别产品URL不会重定向到SEO友好URL。

<!-- ACP2E-1196-->

* 在将折扣应用于发运成本时，Adobe Commerce不再引发最小订单金额错误。

<!-- ACP2E-1190-->

* 现在，在对发运应用折扣后应用税时，可以正确计算发运退款。

<!-- ACP2E-910 AC-3182-->

* 通过GraphQL请求购物车的所有适用促销活动 `cart` 查询一起返回。 促销活动包括行项目折扣、购物车规则/折扣、优惠券、礼品卡和商店信用。 [GitHub-35545](https://github.com/magento/magento2/issues/35545)

### 暂存

<!-- ACP2E-879-->

* 重新计划暂存更新的结束日期不再在更新完成后导致错误。 以前，管理员无法打开产品页面和产品网格，Adobe Commerce抛出了以下错误： `report.CRITICAL: Exception: Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "1" already exists. in /home/muntianu/public_html/24dev/lib/internal/Magento/Framework/Data/Collection.php:407`.

<!-- ACP2E-776-->

* 测试功能板现在显示正确的记录总数，功能板分页现在可以按预期工作。 以前。 功能板最多显示20条记录。

<!-- ACP2E-1213-->

* 现在，在具有许多商店的部署中，内容暂存预览的加载速度更快。 现在，预览重新索引仅会重新索引选定的存储。

<!-- ACP2E-919-->

* 现在，可以在计划预览模式下将产品添加到购物车。 使用这些参数在计划预览模式下更新痕迹导航链接更正了此问题： `version`, `timestamp`和 `signature`.

### 税

<!-- AC-3201-->

* 的 **显示零税小计** 现在，对于提供多种发运方法的部署中的订单，可按预期应用配置设置。 以前，在选择送货方法之前，即使禁用了此设置，结帐期间购物车页面上也会显示零税字段。 [GitHub-35561](https://github.com/magento/magento2/issues/35561)

<!-- AC-3157-->

* 在运行PHP 8.1的部署中，Adobe Commerce现在可以在店面类别页面上显示带税的分组产品。以前，Adobe Commerce未显示产品列表，并抛出此例外： `main.CRITICAL: Exception: Deprecated Functionality: ucfirst(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/m24/vendor/magento/module-tax/Pricing/Render/Adjustment.php on line 188 in /var/www/m24/vendor/magento/framework/App/ErrorHandler.php:61`. [GitHub-35500](https://github.com/magento/magento2/issues/35500)

<!-- ACP2E-1258-->

* 商家无法再将计划更新移动到包含相同规则ID的其他更新。 以前，在将更新移动到包含相同规则ID的其他更新时，购物车价格规则的计划更新会创建重复的计划。

<!-- ACP2E-1295-->

* 现在，当没有与客户地址关联的增值税ID时，即可自动分配客户组。 如果地址不包含增值税ID，则它将被视为属于非增值税注册客户，而Adobe Commerce会将客户组更改为非增值税组。 以前， **启用对客户组的自动分配** 启用，则客户帐户未自动分配给 `customerGroup` 从客户帐户中删除增值税ID时。

<!-- ACP2E-493-->

* 现在，在暂存预览模式下，已为暂存目录规则显示正确的动态块。 以前，会显示不相关的动态块。

<!-- ACP2E-1080-->

* 现在，在结帐期间核销多次发运时，发票和贷项通知单的“税务汇总”部分中会正确显示多个税。

<!-- ACP2E-1076-->

* 当订单小计包括税以及固定产品税额超过购物车页面上购物车规则条件时，将不再应用折扣。 以前，即使总折扣超出购物车规则条件，也会应用折扣。

<!-- ACP2E-913-->

* `VAT_ID` 现在，可以在结账时通过GraphQL请求为来宾购物者添加。

### 测试

<!-- ACP2E-1171-->

* 修复了 `ICU` 和 `libxml` 库。

<!-- ACP2E-1134-->

* 开发人员现在可以指示系统在特定存储视图中执行数据夹具。 新的可选参数 `scope` 接受 `string` 对应于存储夹别名。

<!-- ACP2E-1133-->

* 添加了使用可选 `count` 参数。

### 翻译和区域设置

<!-- ACP2E-912-->

* 现在，内联翻译可以正确处理特殊字符，这些字符包括位于SCRIPT标记中的短语中的扩展Unicode字符。 以前，使用内联翻译时，编辑的脚本中的日语字符呈现不正确。

<!-- ACP2E-844-->

* 的 `ñ` 产品名称中的字符现在转换为 `n` 在URL密钥生成期间。

<!-- AC-3499-->

* 运行的输出 `bin/magento i18n:collect-phrases` 现在包含邮件模板翻译 `depend` 按预期构建。 [GitHub-35449](https://github.com/magento/magento2/issues/35449)

<!-- ACP2E-1135-->

* 现在，可以在产品页面属性集（组合框）中直接输入日语字符。 以前，在此组合框中直接输入日语字符会在MacOS上运行Firefox浏览器时导致更改或删除字符。 的  `textInput`  HTML属性已取代 `Value` 和 `valueUpdate` 属性。

### UI

<!-- ACP2E-1018-->

* 现在，特定于网站的货币可按“管理产品”网格中“特价”、“成本”和MSRP列的预期使用。 以前，在按商店视图按特殊价格进行筛选时，管理目录产品网格中未显示正确的货币符号。

<!-- ACP2E-980-->

* 产品自定义选项的拖放功能现在可以按预期工作。 现在，当可自定义的选项网格中存在多个可用的页面时，您可以将可自定义的选项从一个页面移动到另一个页面。

<!-- ACP2E-866-->

* 管理员功能板图表现在可按预期显示从当前日历年开始到当前日期的当年截至统计日的时间间隔。 以前，日期范围包含在12个月以上。

<!-- AC-3088-->

* 在店面主页上添加了缺失的默认主页图标。 [GitHub-35493](https://github.com/magento/magento2/issues/35493)

<!-- ACP2E-1025-->

* 管理员现在可成功显示每个管理员用户的最新登录日期。 以前，当管理员用户首次登录管理员时，“管理员用户”网格中会显示空的登录日期值。


<!-- AC-3762-->

* 预览电子邮件模板功能(**[!UICONTROL Marketing]**  > **[!UICONTROL Communications]**  > **[!UICONTROL Email Templates]**)现在可正确显示模板。 以前，预览图像会被截断。 [GitHub-35697](https://github.com/magento/magento2/issues/35697)

<!-- magento/magento2/pull/35656-->

* 添加了 `new-shipping-address-modal` 类以支持新送货地址模式的样式。

<!-- magento/magento2/pull/35738-->

* 在 `Search Weight` 属性 `Storefront Properties` 管理员上的输入字段 **[!UICONTROL Stores]**  >  [!UICONTROL Attributes]  >  **[!UICONTROL Product]**.

<!-- AC-6442-->

* 现在，在使用自定义扩展的部署中，客户网格会按预期进行排序。 `Shared` 现在设置为 `false` 表示 `SortOrderBuilder`. 以前，此生成器会产生不需要的副作用，单击客户网格的标题不起作用。 [GitHub-35939](https://github.com/magento/magento2/issues/35939)

<!-- ACP2E-1323-->

* 现在，电子邮件预览在单独的选项卡中打开，而不是在提供电子邮件内容更广泛视图的弹出窗口中打开。 以前，电子邮件内容会被截断。

<!-- ACP2E-1299-->

* 用户角色网格的过滤器功能（管理员） **[!UICONTROL System]**  >  **[!UICONTROL Permissions]**  > **[!UICONTROL User roles]**  >  **[!UICONTROL Administrators]**)现在可以按预期工作。 数组值现在单独处理。 以前，当您尝试在此网格中输入查询时，Adobe Commerce引发了此控制台错误，并且页面未加载： `Uncaught TypeError: Cannot read properties of null`. [GitHub-35993](https://github.com/magento/magento2/issues/35993)

<!-- ACP2E-328-->

* 在通过REST API创建客户时，添加了属性值验证。 现在，当提供无效属性值时，创建过程会失败。 以前，没有对性别进行验证，这不是必填的领域。 在客户创建期间，为性别传入的值保存在 `customer_entity` 表。

<!-- AC-1105-->

* 现在，在结帐过程中添加的地址会保留其预期格式。 以前，会忽略空行。

<!-- ACP2E-897-->

* 更改产品网格的列网格视图并为自定义视图选择新列不再触发“选择所有网格列”操作。 以前，列框会消失，并且网格中的产品会被选择或取消选择。 [GitHub-36302](https://github.com/magento/magento2/issues/36302)

<!-- ACP2E-1245 1405-->

* 管理员用户现在可以成功清除管理员已完成的任务日志。 以前，管理员会显示以下错误： `Something went wrong`.  [GitHub-36255](https://github.com/magento/magento2/issues/36255)

### URL重写

<!-- ACP2E-808-->

* 将产品可见性更改为 **不单独显示** 现在，在全局“所有商店视图”范围中，只删除未覆盖可见性属性的商店视图的URL重写。 以这种方式更改产品可见性还会为所有商店视图(包括那些已覆盖URL键属性（但不是可见性设置）的视图)生成URL重写。 以前，在可见性设置发生更改时，不会应用URL重写规则。

### Visual Sticler

<!-- ACP2E-1084-->

* 当产品与规则匹配时，您无法再手动更改可视化促销商类别列表中的产品位置。

<!-- ACP2E-985-->

* 仅限一个商店的访问权限的管理员用户无法再在Visual Sticler中将产品拖放到类别中。 现在，他们可以使用 **[!UICONTROL Position]** 列来重新排列产品位置。 以前，这些用户只能通过拖放操作来更改类别中的产品位置。

<!-- ACP2E-953-->

* 类别编辑页面的“类别中的产品”部分现在显示正确数量的可配置产品。 正确的表列现在用于检索可配置产品数量。

### Web API框架

<!-- ACP2E-1207-->

* REST API `DELETE /rest/V1/products/:sku/media/:entryId` 如果图像未从产品中删除，则现在会返回一条错误消息，因为该图像已被分配给其他商店视图中的角色。 以前，即使未成功删除图像，API也会返回成功响应。

<!-- ACP2E-1155-->

* 商家现在可以使用REST API为零总计订单创建贷项通知单。 以前，Adobe Commerce会显示以下错误： `The order does not allow a credit memo to be created. The credit memo's total must be positive. We can't create a credit memo for the invoice/order`.

<!-- ACP2E-1136-->

* 现在，在使用REST API更改了产品的网站分配后，“管理员产品编辑”页面可准确反映产品的分配情况。 [GitHub-36281](https://github.com/magento/magento2/issues/36281)

<!-- ACP2E-863-->

* 在批量REST API请求更新产品期间，无法再为多选属性包含重复的选项ID。 以前，在发送批量API请求以更新产品时，您可以为多选属性设置重复的选项ID。 当将多选属性配置为包含在分层导航中时，EAV索引失败，其中 `Duplicate entry` 错误。

<!-- ACP2E-778-->

* 购物车中的产品名称现在可以按预期使用指定的商店视图值。 以前，购物车中的产品名称始终在REST API购物车响应中返回默认的商店视图值。

<!-- AC-5986-->

* 现在，可以使用REST API更新购物车项目自定义选项值。 [GitHub-35768](https://github.com/magento/magento2/issues/35768)

<!-- AC-1330-->

* 超过20个的批量API请求 `sourceItems` 现在，在启用了“库存”的部署中成功完成。

<!-- ACP2E-1209-->

* 当REST更改子产品库存状态时，复合产品（包、分组和可配置）库存状态将按预期更新 `POST /rest/V1/inventory/source-items` 呼叫。

<!-- ACP2E-1044-->

* 现在，修复器货币服务可通过ApiLayer生成的密钥按预期工作，并且货币汇率可正确导出。 以前，Adobe Commerce在商家尝试通过管理员导入货币汇率时出错。

<!-- ACP2E-726-->

* 您现在可以使用REST API `/rest/V1/bulk?searchCriteria[filter_groups]` 请求按搜索条件查询批量操作。 以前，会返回以下错误：  `report.CRITICAL: Report ID: webapi-624bbb1db96c4; Message: Item (Magento\AsynchronousOperations\Model\Operation) with the same ID "0" already exists.`

<!-- magento/magento2/pull/36147-->

* 现在，可以使用“管理基本价格API”在管理员和店面目录搜索页面上正确更新产品价格。 [GitHub-33767](https://github.com/magento/magento2/issues/33767)


### 愿望列表

<!-- ACP2E-1013-->

* 现在，购物者在登录后可以将产品添加到其愿望列表。 以前，由于表单键值在登录后验证存在问题，随附加到愿望清单请求一起提交的表单键值失效。

<!-- ACP2E-341-->

* 现在，在来宾客户通过确认电子邮件确认其帐户后，产品会按预期添加到产品列表和查看页面的愿望列表中。 以前，在确认帐户后产品不会添加到愿望列表。

## 系统要求

我们的技术堆栈构建在PHP和MySQL上。 有关更多信息，请参阅 [系统要求](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## 安装和升级说明

您可以使用 [编辑器](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).