---
title: 自托管Adobe Commerce监控工具
description: 了解要考虑的自托管监控工具的想法和概念以及最佳实践。
landing-page-description: 了解一些监控工具概念以及自行托管Adobe Commerce时应考虑的事项。
short-description: 了解自行托管Adobe Commerce的策略和监控工具概念。
kt: 11420
doc-type: tutorial
audience: all
last-substantial-update: 2023-04-13T00:00:00Z
source-git-commit: 63fddb20673399bae397238a8dda866e1d740e6f
workflow-type: tm+mt
source-wordcount: '1716'
ht-degree: 0%

---


# 自托管Adobe Commerce监控遥测和工具

使用监控工具，可以发现变化，而无需随时向某人付费来观看一切。 使用大多数工具，您可以在满足阈值（如硬盘空间不足）时添加警报和通知。 某些工具提供了应跟踪和计算的输出，如负载测试结果。 无论该工具是什么，每个工具都有其用途，如果使用方式一致，它们都可以帮助您管理您的应用程序。 每个工具都有免费选项，但请记住，为服务付费通常可以确保更快的可靠支持，并且可能值得投资。 New Relic是一个工具的示例，该工具提供免费套餐和可解锁更多电源和功能的付费版本。 还有其他一些网站，如DataDog或Dynatrace。 为您找到一个好选项，并始终如一地使用它。

## 基础架构监控

“基础结构”一词在此上下文中使用得相当宽松。 对于本主题，这表示用于使站点运行的任何服务器、进程或设备。 例如：

* 硬盘
* CPU使用率
* RAM使用情况
* 雷迪斯
* 每台服务器的平均负载
* 网络流量

研究阈值以构建有效警报。 请勿为硬盘容量等重要事项分配一个。 设置一些，以在情况变糟时通知不同的组。 例如，以下是一组硬盘已满的规则。

* 70%的Slack通知会发送到DevOps渠道
* 80%通知Slack室DevOps渠道和DevOps队友的电子邮件分发列表
* 90%通知SlackDevOps渠道和生产支持Slack渠道、电子邮件DevOps分发组和工程经理
* 95%通知SlackDevOps和生产支持Slack渠道、所有工程师的电子邮件分发列表和工程部的Director
* 98%通知任何P1Slack渠道、DevOps和生产支持Slack渠道、工程师的电子邮件分发列表以及工程和技术副总裁的Director

有多种方法可通知团队，因此请确保您选择可靠的团队，并且不会收到太多警报。 重要的是，在重要时保留警报，否则，您将面临被淹没的风险，并开始忽略警报。

大多数工具(如New Relic、DataDog和Dynatrace)通常都可遵循一些良好的模板。 需要一些时间才能找到对您的应用程序最有意义的好想法。 在云基础架构上使用Adobe Commerce，在配置项目时会发送警报和触发器。 这使Adobe生产支持团队能够应用其工具进行正常运行时间和高可用性监控。

功能板可让您快速访问网站的频繁或重要方面。 功能板项目可以包含页面查看次数、每台主机的CPU使用率、所有服务器的列表、页面加载时间、事务持续时间，甚至包括过去几天的合成监视测试结果。 应构建这些功能板，以便在出现问题时允许快速检查，或为不同用户体验设置不同的功能板。 希望您能够设计多个功能板，并且能够实时查看应用程序监控。 这非常令人满意，特别是当项目所有者或经理询问网站的运行情况时，您可以在几秒内找到答案，而不是几小时。

## 日志聚合和旋转

在处理请求的应用程序服务器或MySQL日志的应用程序服务器上，当执行操作过长时，会找到日志文件。 日志的难点在于它们彼此分离，并找到所有日志，从每个日志中解析信息可能很麻烦。 许多年前，此问题通过使用名为 _日志聚合_. 这会从所有日志位置获取日志文件，并将其推送到集中位置。 移动后，某个软件可以读取它们，并提供搜索、过滤和查看信息的方法。 这可能是一个很棘手的过程。 有许多选项，但如果您幸运，您的监控工具可以读取和聚合日志文件，如New Relic。 通过找到一个好工具，您可以在未来为自己节省无法估量的时间。 除非您只有一个服务器来执行所有操作以使您的网站运行和运行，否则进行日志聚合至关重要。 当尝试确定您是否受到DDoS攻击或遇到合法的流量尖峰，或者当研究某个请求失败的原因时，此功能特别有用。

日志的另一个关键点是确保发生旋转。 这在历史上与 `run-away logs` 可能会意外地填满硬盘并导致站点下降。 当日志文件达到某种大小（如1 GB）时，可能会出现日志旋转的版本。 有一些服务器级别的工具，例如 `logrotate` 可以自动删除这些区段。 例如，当日志文件大于1GB时，它可以删除过大的日志文件，或者删除90天以前的日志文件。 您定义日志策略，因此了解资源限制很重要。

## 恶意软件扫描

许多专门托管Adobe Commerce公司的网站将拥有一个包含已知漏洞和恶意软件的库。 他们应自动或应请求提供扫描。 如果这些方法有效，则它们是反动的，并且只在检测到新的恶意软件时起作用。 使用主动工具来查看已知恶意软件的代码和数据库，这可能是个好主意。 有一些可用选项，例如 [图像报表](https://www.magereport.com){target="_blank"}, [Sansec](https://sansec.io){target="_blank"}, or [Magento Malware Scanner](https://github.com/gwillem/magento-malware-scanner){target="_blank"}. 它们可以从外部执行远程扫描，也可以在服务器上设置后主动安装并更新/扫描/监视。 这是一个很好的选项，因为如果您选择提供的解决方案（如Sansec），则会不断更新其库，因为已安装并监视数千个站点。 当检测到新的恶意软件时，他们监视的每个项目都会从信息中获益，现在，如果检测到信息，将收到警报。

需要考虑一些免费版本，但对于恶意软件，您真的应该考虑使用付费解决方案。 您的网站被感染几分钟与几个月之间可能存在差异。 在您的网站上利用此漏洞会带来极大的麻烦，因此您应考虑为服务付费。

## Adobe站点范围分析工具

站点范围分析工具是一个主动的自助服务工具和中央存储库，包括详细的系统分析和建议，可确保Adobe Commerce安装的安全性和可操作性。 它提供24/7实时性能监控、报告和建议，以确定潜在问题并更好地了解站点运行状况、安全和应用程序配置。 它有助于缩短解析时间并提高站点稳定性和性能。

站点范围分析工具的Recommendations页面根据解决您网站上检测到的问题的最佳实践列出了相关建议。 推荐按优先级PO到P4排序，其中PO至关重要，P4较低。 调查结果包括描述、建议、站点影响、根本原因、情景/先决条件、预期结果和使用的工具。

了解提高网站性能的最佳实践。 跟踪并实施按优先级列出的推荐。

有关如何在您的项目上安装该组件的详细信息，请访问 [站点范围分析工具安装指南](https://experienceleague.adobe.com/docs/commerce-operations/tools/site-wide-analysis-tool/installation.html){target="_blank"}.

## SSL监控

项目最常被遗忘的项目之一是SSL证书。 他们每年只需要注意一次，所以很容易忘记。 您的安全证书过期可能会导致现代浏览器发出警告或拒绝在您的网站上显示页面。 如果客户遇到此类问题，可能会开始发送电子邮件或致电支持，并且在问题得到解决之前可能无法运行。 每分钟都很重要，因此，识别过期时间会提前，确保续订内容对于保持网站正常运行至关重要。 有多种方法可以完成SSL监控。 考虑为您的网站使用合成监控工具，使用Pingdom、Keychest或Sucuri等免费或低成本工具，甚至订阅提供SSL证书过期警报的服务。 这些简单的工具可确保您的网站证书有效，并降低客户停机的风险。

## 自动测试

执行自动测试（如功能测试或单元测试）通常有助于从新引入的代码中检测问题。 这些测试可能无法涵盖所有内容，因为Adobe Commerce和单元测试的覆盖率通常不到50%。 这并不意味着您应避免编写和测试。 这些工具旨在添加另一层安全性和安全性，即所提交的所有内容都不会对开发团队创建的开箱即用测试和任何自定义测试产生不利影响。 通过在每个部署中运行这些测试，可以及早发现任何主要问题，并避免让项目进入生产状态。

负载测试的正确性可能很困难。 其复杂性在很大程度上来自前端的使用和实施方式。 如果您的网站具有无头前端，则可能需要加载测试GraphQL API和REST API。 您和DevOps团队将决定如何最终进行负载测试。 了解尽快执行的每个负载测试都会提供有关项目状态的洞察信息。 它还为将来的测试提供基准，以查看负载测试结果是否有任何剧烈的更改。 如果是，并且它们是负面的，那么这是审查最新代码更改并查找影响性能的部分以加以改进的良机。

Adobe Commerce提供了良好的指导，帮助了解如何执行单元测试，请参阅 [PHP单元测试](https://developer.adobe.com/commerce/testing/guide/unit/){target="_blank"} 在 _应用程序测试指南_ 在Adobe Developer文档网站中。

有关功能测试的更多信息，请访问 [功能测试框架简介](https://developer.adobe.com/commerce/testing/functional-testing-framework/){target="_blank"}.


{{$include /help/_includes/hosting-related-links.md}}
